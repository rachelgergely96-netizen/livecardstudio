<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Living Card For You</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=Nunito+Sans:wght@300;400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Nunito Sans',sans-serif;overflow:hidden;width:100vw;height:100vh;touch-action:manipulation;-webkit-font-smoothing:antialiased;background:#FDF3E8}
canvas{position:fixed;inset:0;z-index:0}
.envelope-screen{position:fixed;inset:0;z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#FDF3E8;cursor:pointer;transition:opacity 1.4s cubic-bezier(.4,0,.2,1),transform 1.4s cubic-bezier(.4,0,.2,1)}
.envelope-screen.opened{opacity:0;transform:scale(1.15);pointer-events:none}
.env-wrap{position:relative;width:160px;height:130px}
.env-body{width:160px;height:100px;background:linear-gradient(145deg,#fff,#F5E8D8);border-radius:5px;position:absolute;bottom:0;box-shadow:0 10px 50px rgba(61,53,53,0.1);border:1px solid rgba(212,165,116,0.15)}
.env-flap{width:0;height:0;border-left:80px solid transparent;border-right:80px solid transparent;border-top:65px solid #E8D4BC;position:absolute;top:0;transition:transform 1s cubic-bezier(.4,0,.2,1);transform-origin:top center}
.envelope-screen:hover .env-flap{transform:rotateX(50deg)}
.env-seal{width:30px;height:30px;border-radius:50%;background:linear-gradient(135deg,#D4A574,#B8865A);position:absolute;top:38px;left:50%;transform:translateX(-50%);z-index:2;box-shadow:0 3px 18px rgba(184,134,90,0.4);display:flex;align-items:center;justify-content:center;font-size:.65rem;color:#FDF3E8;animation:seal 4s ease-in-out infinite}
@keyframes seal{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.1)}}
.env-hint{margin-top:2.5rem;font-family:'Cormorant Garamond',serif;font-style:italic;font-size:1.05rem;color:#8B7B6B;opacity:0;animation:fi 2s ease 1s forwards}
.env-from{margin-top:.8rem;font-family:'Cormorant Garamond',serif;font-size:.85rem;letter-spacing:.1em;color:#D4A574;opacity:0;animation:fi 2s ease 1.5s forwards}
@keyframes fi{to{opacity:.7}}
.card-exp{position:fixed;inset:0;z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity 1.8s ease .6s;pointer-events:none;padding:2rem}
.card-exp.active{opacity:1;pointer-events:auto}
.photo-frame{position:relative;width:min(280px,75vw);height:min(280px,75vw);border-radius:22px;overflow:hidden;cursor:pointer;box-shadow:0 20px 80px rgba(61,53,53,0.12);transition:transform .6s;margin-bottom:2rem;opacity:0;transform:translateY(25px);animation:rev 1.6s ease 1.8s forwards}
@keyframes rev{to{opacity:1;transform:translateY(0)}}
.photo-frame:hover{transform:scale(1.02)}
.photo-canvas{width:100%;height:100%;display:block}
.filter-label{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);font-family:'Cormorant Garamond',serif;font-style:italic;font-size:.8rem;color:#fff;background:rgba(61,53,53,.35);backdrop-filter:blur(10px);padding:5px 18px;border-radius:20px;pointer-events:none}
.tap-hint{position:absolute;top:12px;right:12px;font-size:.6rem;color:#fff;background:rgba(61,53,53,.25);backdrop-filter:blur(8px);padding:3px 10px;border-radius:12px;opacity:0;animation:fi 1.5s ease 3.5s forwards}
.msg{text-align:center;max-width:420px;opacity:0;transform:translateY(25px);animation:rev 1.6s ease 2.6s forwards}
.msg-occ{font-size:.65rem;font-weight:600;letter-spacing:.25em;text-transform:uppercase;color:#D4A574;margin-bottom:.8rem}
.msg-div{display:block;width:45px;height:1px;background:linear-gradient(to right,transparent,#D4A574,transparent);margin:0 auto 1rem}
.msg-txt{font-family:'Cormorant Garamond',serif;font-weight:300;font-size:clamp(1.15rem,3.8vw,1.75rem);line-height:1.65;color:#3D3535;margin-bottom:1.5rem}
.msg-from{font-family:'Cormorant Garamond',serif;font-style:italic;font-size:1.05rem;color:#B8865A}
.branding{position:fixed;bottom:1.5rem;left:50%;transform:translateX(-50%);z-index:20;font-family:'Cormorant Garamond',serif;font-size:.72rem;color:#8B7B6B;opacity:0;letter-spacing:.08em;animation:fi 2s ease 4s forwards}
.branding a{color:#D4A574;text-decoration:none}
@media(max-height:700px){.photo-frame{width:min(200px,55vw);height:min(200px,55vw)}}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="envelope-screen" id="env"><div class="env-wrap"><div class="env-flap"></div><div class="env-body"></div><div class="env-seal">✦</div></div><p class="env-hint">tap to open</p><p class="env-from">you are my golden hour</p></div>
<div class="card-exp" id="exp"><div class="photo-frame" id="pf"><canvas class="photo-canvas" id="pc"></canvas><div class="filter-label" id="fl">Original</div><div class="tap-hint">tap to transform</div></div><div class="msg"><p class="msg-occ">Happy Anniversary</p><span class="msg-div"></span><p class="msg-txt">Every sunrise with you feels like the first one. Thank you for being my warmest light.</p><p class="msg-from">— forever yours</p></div></div>
<div class="branding">made with <a href="#">LiveCardStudio</a> — cards that breathe</div>
<script>
const P=new Uint8Array(512),G=[];(function(){const p=[];for(let i=0;i<256;i++)p[i]=i;for(let i=255;i>0;i--){const j=Math.floor(Math.random()*(i+1));[p[i],p[j]]=[p[j],p[i]];}for(let i=0;i<512;i++)P[i]=p[i&255];for(let i=0;i<256;i++){const a=Math.random()*Math.PI*2;G[i]=[Math.cos(a),Math.sin(a)];}})();
function fade(t){return t*t*t*(t*(t*6-15)+10)}function lerp(a,b,t){return a+(b-a)*t}function dot2(g,x,y){return g[0]*x+g[1]*y}
function noise2D(x,y){const X=Math.floor(x)&255,Y=Math.floor(y)&255,xf=x-Math.floor(x),yf=y-Math.floor(y),u=fade(xf),v=fade(yf);return lerp(lerp(dot2(G[P[P[X]+Y]],xf,yf),dot2(G[P[P[X+1]+Y]],xf-1,yf),u),lerp(dot2(G[P[P[X]+Y+1]],xf,yf-1),dot2(G[P[P[X+1]+Y+1]],xf-1,yf-1),u),v)}
function fbm(x,y,o=4){let v=0,a=.5,f=1;for(let i=0;i<o;i++){v+=a*noise2D(x*f,y*f);a*=.5;f*=2;}return v}

const canvas=document.getElementById('c'),ctx=canvas.getContext('2d');let W,H,t=0,mx=0,my=0,mxS=0,myS=0;
function resize(){W=canvas.width=innerWidth;H=canvas.height=innerHeight}resize();addEventListener('resize',resize);
addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY});addEventListener('touchmove',e=>{mx=e.touches[0].clientX;my=e.touches[0].clientY},{passive:true});

class WarmWash{constructor(){this.x=Math.random()*W;this.y=Math.random()*H;this.R=150+Math.random()*350;this.h=20+Math.random()*25;this.s=25+Math.random()*25;this.l=82+Math.random()*12;this.a=.06+Math.random()*.1;this.ph=Math.random()*Math.PI*2;this.sp=.0002+Math.random()*.0004;this.no=Math.random()*100}draw(t){const b=Math.sin(t*this.sp+this.ph)*.2+1+fbm(this.no+t*.00004,this.no)*.1,r=this.R*b,nx=noise2D(this.no+t*.00007,0)*60,ny=noise2D(0,this.no+t*.00005)*45,x=this.x+nx,y=this.y+ny,dx=mxS-x,dy=myS-y,d=Math.sqrt(dx*dx+dy*dy),pu=Math.max(0,1-d/400)*15,px=x-dx/(d||1)*pu,py=y-dy/(d||1)*pu,hs=noise2D(t*.0001,this.no)*10,g=ctx.createRadialGradient(px,py,0,px,py,r);g.addColorStop(0,`hsla(${this.h+hs},${this.s}%,${this.l}%,${this.a})`);g.addColorStop(.4,`hsla(${this.h+hs+3},${this.s-3}%,${this.l+1}%,${this.a*.5})`);g.addColorStop(1,`hsla(${this.h},${this.s}%,${this.l}%,0)`);ctx.fillStyle=g;ctx.beginPath();ctx.arc(px,py,r,0,Math.PI*2);ctx.fill()}}

class GodRay{constructor(i,n){this.angle=-.15+.7*(i/(n-1))-.35;this.ox=W*.75+Math.random()*W*.3;this.oy=-H*.15-Math.random()*H*.1;this.w=60+Math.random()*180;this.a=.015+Math.random()*.03;this.ph=Math.random()*Math.PI*2;this.sp=.0004+Math.random()*.0006;this.no=Math.random()*100}draw(t){const b=Math.sin(t*this.sp+this.ph)*.35+1,w=this.w*b,a=this.a*(.6+Math.sin(t*this.sp*1.8+this.ph)*.4),ns=noise2D(this.no+t*.0001,t*.00005)*20,as=noise2D(t*.00008,this.no)*.04,mi=(mxS/W-.5)*.06,len=Math.sqrt(W*W+H*H)*1.3;ctx.save();ctx.translate(this.ox+ns,this.oy);ctx.rotate(this.angle+as+mi);const g=ctx.createLinearGradient(0,0,0,len);g.addColorStop(0,`rgba(232,200,138,${a*1.2})`);g.addColorStop(.15,`rgba(212,175,116,${a})`);g.addColorStop(.5,`rgba(200,155,107,${a*.6})`);g.addColorStop(1,'rgba(200,155,107,0)');ctx.fillStyle=g;ctx.beginPath();ctx.moveTo(-w*.3,0);ctx.lineTo(w*.3,0);ctx.lineTo(w*1.2,len);ctx.lineTo(-w*1.2,len);ctx.closePath();ctx.fill();const g2=ctx.createLinearGradient(0,0,0,len*.6);g2.addColorStop(0,`rgba(255,240,200,${a*.5})`);g2.addColorStop(1,'rgba(255,240,200,0)');ctx.fillStyle=g2;ctx.beginPath();ctx.moveTo(-w*.08,0);ctx.lineTo(w*.08,0);ctx.lineTo(w*.4,len*.6);ctx.lineTo(-w*.4,len*.6);ctx.closePath();ctx.fill();ctx.restore()}}

class Ember{constructor(dp){this.dp=dp;this.sc=[.35,.65,1][dp];this.aB=[.08,.18,.32][dp];this.reset(true)}reset(i){this.x=Math.random()*W;this.y=i?Math.random()*H:H+20+Math.random()*80;this.sz=(1+Math.random()*3)*this.sc;this.vx=(Math.random()-.5)*.15;this.vy=-(0.1+Math.random()*.35)*this.sc-.05;this.al=this.aB+Math.random()*.1;this.h=25+Math.random()*25;this.gp=Math.random()*Math.PI*2;this.gs=.004+Math.random()*.008;this.no=Math.random()*200;this.ff=!i&&Math.random()<.015;this.life=300+Math.random()*500;this.age=i?Math.random()*this.life:0}update(t){this.age++;const nx=noise2D(this.no+t*.0003,this.y*.005)*.6;this.x+=this.vx+nx*this.sc;this.y+=this.vy+noise2D(this.y*.003,this.no+t*.0002)*.15;if(this.y<-30||this.age>this.life)this.reset(false);if(this.x<-20)this.x=W+20;if(this.x>W+20)this.x=-20}draw(t){const gl=.4+Math.sin(t*this.gs+this.gp)*.6,fi=Math.min(1,this.age/40),fo=Math.max(0,1-(this.age-this.life+60)/60),a=this.al*gl*fi*(this.age>this.life-60?fo:1);ctx.save();ctx.globalAlpha=a;const gr=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.sz*5);gr.addColorStop(0,`hsla(${this.h},55%,68%,.25)`);gr.addColorStop(.5,`hsla(${this.h},50%,70%,.06)`);gr.addColorStop(1,`hsla(${this.h},45%,70%,0)`);ctx.fillStyle=gr;ctx.beginPath();ctx.arc(this.x,this.y,this.sz*5,0,Math.PI*2);ctx.fill();ctx.fillStyle=`hsla(${this.h-5},40%,82%,1)`;ctx.beginPath();ctx.arc(this.x,this.y,this.sz,0,Math.PI*2);ctx.fill();ctx.fillStyle=`rgba(255,245,220,${.6*gl})`;ctx.beginPath();ctx.arc(this.x,this.y,this.sz*.4,0,Math.PI*2);ctx.fill();if(this.ff){ctx.globalAlpha=.15+Math.sin(t*.015+this.no)*.1;const fg=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.sz*12);fg.addColorStop(0,'rgba(180,255,140,.25)');fg.addColorStop(1,'rgba(180,255,140,0)');ctx.fillStyle=fg;ctx.beginPath();ctx.arc(this.x,this.y,this.sz*12,0,Math.PI*2);ctx.fill()}ctx.restore()}}

class HexBokeh{constructor(){this.x=Math.random()*W;this.y=Math.random()*H;this.sz=4+Math.random()*12;this.a=.02+Math.random()*.04;this.ph=Math.random()*Math.PI*2;this.da=Math.random()*Math.PI*2;this.ds=.02+Math.random()*.06;this.no=Math.random()*100;this.h=25+Math.random()*20;this.rot=Math.random()*Math.PI;this.rs=(Math.random()-.5)*.001}update(t){const n=noise2D(this.no+t*.0001,t*.00005);this.x+=Math.cos(this.da+n)*this.ds;this.y+=Math.sin(this.da+n)*this.ds-.01;this.rot+=this.rs;if(this.y<-20){this.y=H+20;this.x=Math.random()*W}}draw(t){const p=.5+Math.sin(t*.002+this.ph)*.5,a=this.a*p;ctx.save();ctx.translate(this.x,this.y);ctx.rotate(this.rot);ctx.globalAlpha=a;ctx.strokeStyle=`hsla(${this.h},30%,80%,.5)`;ctx.lineWidth=.5;ctx.beginPath();for(let i=0;i<6;i++){const an=Math.PI/3*i,px=Math.cos(an)*this.sz,py=Math.sin(an)*this.sz;i===0?ctx.moveTo(px,py):ctx.lineTo(px,py)}ctx.closePath();ctx.stroke();const g=ctx.createRadialGradient(0,0,0,0,0,this.sz);g.addColorStop(0,`hsla(${this.h},35%,85%,${a*1.5})`);g.addColorStop(1,`hsla(${this.h},25%,80%,0)`);ctx.fillStyle=g;ctx.fill();ctx.restore()}}

function drawSunOrb(t){const b=Math.sin(t*.0003)*.15+1,x=W*.85+noise2D(t*.00005,0)*20,y=H*.08+noise2D(0,t*.00004)*15;for(let i=3;i>0;i--){const r=80*i*b,a=.015/i,g=ctx.createRadialGradient(x,y,0,x,y,r);g.addColorStop(0,`rgba(255,240,200,${a})`);g.addColorStop(1,'rgba(232,200,138,0)');ctx.fillStyle=g;ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill()}}

class GoldDust{constructor(){this.x=Math.random()*W;this.y=Math.random()*H;this.sz=.4+Math.random()*.8;this.a=.06+Math.random()*.1;this.sp=.02+Math.random()*.04;this.an=Math.random()*Math.PI*2;this.no=Math.random()*200;this.tp=Math.random()*Math.PI*2;this.ts=.003+Math.random()*.006}update(t){const n=noise2D(this.no+t*.0002,this.y*.01);this.x+=Math.cos(this.an+n*2)*this.sp;this.y+=Math.sin(this.an+n)*this.sp-.01;if(this.x<0)this.x=W;if(this.x>W)this.x=0;if(this.y<0)this.y=H;if(this.y>H)this.y=0}draw(t){const tw=.25+Math.sin(t*this.ts+this.tp)*.75;ctx.globalAlpha=this.a*tw;ctx.fillStyle='rgba(220,190,140,.9)';ctx.beginPath();ctx.arc(this.x,this.y,this.sz,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1}}

const washes=Array.from({length:9},()=>new WarmWash),rays=Array.from({length:7},(_,i)=>new GodRay(i,7)),eF=Array.from({length:12},()=>new Ember(0)),eM=Array.from({length:14},()=>new Ember(1)),eN=Array.from({length:8},()=>new Ember(2)),bk=Array.from({length:10},()=>new HexBokeh),gd=Array.from({length:50},()=>new GoldDust),tE=[];

function render(){t++;mxS+=(mx-mxS)*.03;myS+=(my-myS)*.03;ctx.fillStyle='rgba(253,243,232,.93)';ctx.fillRect(0,0,W,H);if(t%3===0)for(let i=0;i<80;i++){ctx.fillStyle=`rgba(139,123,107,${Math.random()*.007})`;ctx.fillRect(Math.random()*W,Math.random()*H,1,1)}washes.forEach(w=>w.draw(t));drawSunOrb(t);rays.forEach(r=>r.draw(t));eF.forEach(e=>{e.update(t);e.draw(t)});bk.forEach(b=>{b.update(t);b.draw(t)});eM.forEach(e=>{e.update(t);e.draw(t)});gd.forEach(d=>{d.update(t);d.draw(t)});eN.forEach(e=>{e.update(t);e.draw(t)});tE.forEach(e=>{e.update(t);e.draw(t)});for(let i=tE.length-1;i>=0;i--)if(tE[i].y<-30||tE[i].age>tE[i].life)tE.splice(i,1);requestAnimationFrame(render)}render();

document.getElementById('env').addEventListener('click',()=>{document.getElementById('env').classList.add('opened');setTimeout(()=>{document.getElementById('exp').classList.add('active');document.getElementById('env').style.display='none'},700)});

const pc=document.getElementById('pc'),pctx=pc.getContext('2d'),fl=document.getElementById('fl');const FILTERS=['Original','Warm Honey','Gilded','Sunset Sketch','Ember Glow'];let cf=0,oD;
function genP(w,h){const o=document.createElement('canvas');o.width=w;o.height=h;const c=o.getContext('2d');const bg=c.createLinearGradient(0,0,w,h);bg.addColorStop(0,'#E8D4BC');bg.addColorStop(.4,'#D4A574');bg.addColorStop(.7,'#C89B6B');bg.addColorStop(1,'#B8865A');c.fillStyle=bg;c.fillRect(0,0,w,h);for(let i=0;i<12;i++){const x=w*.15+Math.random()*w*.7,y=h*.15+Math.random()*h*.7,r=25+Math.random()*70,g=c.createRadialGradient(x,y,0,x,y,r);g.addColorStop(0,`hsla(${20+Math.random()*30},45%,72%,.5)`);g.addColorStop(1,`hsla(${20+Math.random()*30},45%,72%,0)`);c.fillStyle=g;c.beginPath();c.arc(x,y,r,0,Math.PI*2);c.fill()}for(let i=0;i<4e3;i++){c.fillStyle=`rgba(255,255,255,${Math.random()*.04})`;c.fillRect(Math.random()*w,Math.random()*h,1,1)}c.font='300 15px "Cormorant Garamond",serif';c.textAlign='center';c.fillStyle='rgba(61,53,53,.3)';c.fillText('your photo here',w/2,h*.83);c.font='300 10px "Nunito Sans",sans-serif';c.fillText('(tap to see art filters)',w/2,h*.89);return o}
function initP(){const f=document.getElementById('pf'),s=f.offsetWidth||280;pc.width=s;pc.height=s;pctx.drawImage(genP(s,s),0,0);oD=pctx.getImageData(0,0,s,s)}
function apF(n){const w=pc.width,h=pc.height;pctx.putImageData(oD,0,0);if(n==='Original')return;const id=pctx.getImageData(0,0,w,h),d=id.data;if(n==='Warm Honey'){for(let i=0;i<d.length;i+=4){d[i]=Math.min(255,d[i]*1.12+10);d[i+1]=Math.min(255,d[i+1]*1.05+5);d[i+2]=d[i+2]*.85}pctx.putImageData(id,0,0);pctx.globalAlpha=.18;for(let i=0;i<5;i++)pctx.drawImage(pc,(Math.random()-.5)*4,(Math.random()-.5)*4);pctx.globalAlpha=1;const v=pctx.createRadialGradient(w/2,h/2,w*.2,w/2,h/2,w*.6);v.addColorStop(0,'rgba(253,243,232,0)');v.addColorStop(1,'rgba(200,155,107,.2)');pctx.fillStyle=v;pctx.fillRect(0,0,w,h)}else if(n==='Gilded'){for(let i=0;i<d.length;i+=4){const a=(d[i]+d[i+1]+d[i+2])/3;d[i]=Math.min(255,a*1.18+22);d[i+1]=Math.min(255,a*.96+16);d[i+2]=Math.min(255,a*.68+5);for(let c2=0;c2<3;c2++)d[i+c2]=Math.min(255,Math.max(0,(d[i+c2]-128)*1.35+128))}pctx.putImageData(id,0,0);for(let i=0;i<5e3;i++){pctx.fillStyle=`rgba(212,165,116,${Math.random()*.03})`;pctx.fillRect(Math.random()*w,Math.random()*h,1+Math.random(),1+Math.random())}}else if(n==='Sunset Sketch'){for(let i=0;i<d.length;i+=4){const g=d[i]*.3+d[i+1]*.59+d[i+2]*.11;d[i]=Math.min(255,g*1.1+28);d[i+1]=Math.min(255,g*.95+18);d[i+2]=Math.min(255,g*.8+12)}pctx.putImageData(id,0,0);pctx.fillStyle='rgba(253,243,232,.25)';pctx.fillRect(0,0,w,h);for(let i=0;i<3e3;i++){const x=Math.random()*w,y=Math.random()*h,l=3+Math.random()*12,a=Math.random()*Math.PI*.5+Math.PI*.25;pctx.strokeStyle=`rgba(139,123,107,${.015+Math.random()*.04})`;pctx.lineWidth=.3+Math.random()*.3;pctx.beginPath();pctx.moveTo(x,y);pctx.lineTo(x+Math.cos(a)*l,y+Math.sin(a)*l);pctx.stroke()}}else if(n==='Ember Glow'){for(let i=0;i<d.length;i+=4){d[i]=Math.min(255,d[i]*1.18+15);d[i+1]=Math.min(255,d[i+1]*1.03+10);d[i+2]=d[i+2]*.82}pctx.putImageData(id,0,0);pctx.globalAlpha=.22;for(let i=0;i<8;i++)pctx.drawImage(pc,(Math.random()-.5)*6,(Math.random()-.5)*6);pctx.globalAlpha=1;for(let i=0;i<25;i++){const x=Math.random()*w,y=Math.random()*h,r=1+Math.random()*2.5,g=pctx.createRadialGradient(x,y,0,x,y,r*6);g.addColorStop(0,`rgba(232,200,138,${.15+Math.random()*.2})`);g.addColorStop(1,'rgba(232,200,138,0)');pctx.fillStyle=g;pctx.beginPath();pctx.arc(x,y,r*6,0,Math.PI*2);pctx.fill()}}}
document.getElementById('pf').addEventListener('click',e=>{cf=(cf+1)%FILTERS.length;pc.style.transition='opacity .3s';pc.style.opacity='.4';setTimeout(()=>{apF(FILTERS[cf]);fl.textContent=FILTERS[cf];pc.style.opacity='1'},250);spB(e.clientX,e.clientY)});
function spB(x,y){for(let i=0;i<8;i++){const e=new Ember(2);e.x=x+(Math.random()-.5)*70;e.y=y+(Math.random()-.5)*40;e.vy=-(0.4+Math.random()*.8);e.vx=(Math.random()-.5)*1.2;e.al=.3+Math.random()*.3;e.life=120+Math.random()*200;e.age=0;tE.push(e)}}
document.addEventListener('click',e=>{if(e.target.closest('.envelope-screen')||e.target.closest('.photo-frame'))return;spB(e.clientX,e.clientY)});
document.fonts.ready.then(()=>setTimeout(initP,100));addEventListener('resize',()=>{resize();setTimeout(initP,100)});
</script>
</body>
</html>
