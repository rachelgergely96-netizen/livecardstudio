<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LiveCard Studio ‚Äî Living Cards for Every Moment</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500&family=DM+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;1,300;1,400&family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#FDFBF7;--bg2:#F7F3ED;--bg3:#EFEBE4;
  --tx:#2A2520;--tx2:#5C554D;--tx3:#8A837B;--txf:#B8B0A6;
  --gold:#C9A96E;--gold2:#B8944E;
  --blush:#D4A0A0;--sage:#8FA680;--mauve:#B8A0C0;--sky:#7BA4C4;--coral:#D4907A;--mint:#7AC4A8;
  --mid:#1C1926;
  --bdr:rgba(0,0,0,.04)
}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--tx);font-family:'DM Sans',sans-serif;font-weight:300;overflow-x:hidden;-webkit-font-smoothing:antialiased}
h1,h2,h3,h4,h5{font-family:'Cormorant Garamond',serif}

/* AMBIENT */
#gardenC{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;pointer-events:none}

/* NAV */
.nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:12px 36px;display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(24px);background:rgba(253,251,247,.72);border-bottom:1px solid var(--bdr);transition:all .5s}
.nav.scrolled{background:rgba(253,251,247,.92);box-shadow:0 1px 20px rgba(0,0,0,.03)}
.nav .logo{font-family:'Cormorant Garamond',serif;font-size:1.15rem;font-weight:600}.nav .logo i{color:var(--blush);font-style:normal}
.nl{display:flex;gap:24px;align-items:center}
.nl a{font-size:.6rem;font-weight:400;letter-spacing:2.5px;text-transform:uppercase;color:var(--tx2);text-decoration:none;transition:color .3s}.nl a:hover{color:var(--gold2)}
.nav-cta{padding:8px 22px;border-radius:24px;font-size:.6rem;font-weight:500;letter-spacing:1.5px;text-transform:uppercase;color:#fff;background:var(--gold2);text-decoration:none;transition:all .3s;border:none;cursor:pointer}
.nav-cta:hover{background:var(--gold);transform:translateY(-1px);box-shadow:0 6px 18px rgba(201,169,110,.2)}

/* HERO */
.hero{position:relative;z-index:2;text-align:center;padding:90px 32px 30px}
.htag{display:inline-flex;align-items:center;gap:8px;padding:5px 15px;border-radius:18px;background:rgba(201,169,110,.05);border:1px solid rgba(201,169,110,.1);font-size:.5rem;font-weight:500;letter-spacing:3.5px;text-transform:uppercase;color:var(--gold2);margin-bottom:18px}
.htag .dot{width:5px;height:5px;border-radius:50%;background:var(--gold);animation:pulse 2.5s ease infinite}
@keyframes pulse{0%,100%{opacity:.4;transform:scale(1)}50%{opacity:1;transform:scale(1.4)}}
.hero h1{font-size:clamp(2rem,4.5vw,3.2rem);font-weight:300;line-height:1.06;margin-bottom:12px;letter-spacing:-.5px;max-width:700px;margin-left:auto;margin-right:auto}
.hero h1 em{font-style:italic;color:var(--blush)}.hero h1 .gold{color:var(--gold2)}
.hero .sub{font-size:.86rem;font-weight:300;color:var(--tx2);line-height:1.8;margin-bottom:24px;max-width:460px;margin-left:auto;margin-right:auto}

/* ‚ïê‚ïê‚ïê EVENT TABS ‚ïê‚ïê‚ïê */
.tabs-wrap{position:relative;z-index:2;max-width:1100px;margin:0 auto;padding:0 24px}
.tabs-bar{display:flex;justify-content:center;gap:4px;margin-bottom:40px;flex-wrap:wrap}
.tab-btn{
  padding:10px 22px;border-radius:24px;border:1px solid var(--bdr);
  background:rgba(255,255,255,.5);backdrop-filter:blur(8px);
  font-family:'DM Sans',sans-serif;font-size:.64rem;font-weight:400;
  letter-spacing:1.5px;text-transform:uppercase;color:var(--tx3);
  cursor:pointer;transition:all .4s;white-space:nowrap;
}
.tab-btn:hover{border-color:rgba(201,169,110,.15);color:var(--tx2)}
.tab-btn.active{background:var(--tx);color:#fff;border-color:var(--tx);box-shadow:0 4px 15px rgba(0,0,0,.08)}
.tab-btn.codex-btn{background:rgba(28,25,38,.04);border-color:rgba(28,25,38,.08);color:var(--mid)}
.tab-btn.codex-btn.active{background:var(--mid);color:var(--gold);border-color:var(--mid)}

/* TAB PANELS */
.tab-panel{display:none;animation:fadePanel .5s ease}
.tab-panel.active{display:block}
@keyframes fadePanel{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* EVENT PANEL LAYOUT */
.event-intro{text-align:center;margin-bottom:36px}
.event-intro h2{font-size:clamp(1.3rem,2.8vw,2rem);font-weight:300;line-height:1.15;margin-bottom:6px}
.event-intro h2 em{font-style:italic}
.event-intro p{font-size:.78rem;font-weight:300;color:var(--tx2);line-height:1.7;max-width:440px;margin:0 auto}

.cards-row{display:grid;grid-template-columns:repeat(3,1fr);gap:28px;margin-bottom:50px}

/* LIVING CARD */
.live-card{
  position:relative;border-radius:4px;overflow:hidden;
  aspect-ratio:5/7;
  box-shadow:0 20px 50px rgba(0,0,0,.06),0 3px 15px rgba(0,0,0,.02);
  transition:transform .6s cubic-bezier(.23,1,.32,1),box-shadow .6s;
  cursor:default;
}
.live-card:hover{transform:translateY(-5px);box-shadow:0 30px 70px rgba(0,0,0,.08)}
.live-card canvas{position:absolute;inset:0;width:100%;height:100%}
.live-card .c0{z-index:0}.live-card .c1{z-index:1}

.lcov{position:absolute;inset:0;z-index:3;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;pointer-events:none}
.lcov .mono{font-family:'DM Sans',sans-serif;font-size:.38rem;font-weight:500;letter-spacing:3.5px;text-transform:uppercase;opacity:.5;margin-bottom:8px}
.lcov .title{font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:300;line-height:1.12}
.lcov .msg{font-family:'Dancing Script',cursive;font-size:.85rem;opacity:.55;line-height:1.5;margin-top:6px;max-width:180px}
.lcov .from{font-family:'DM Sans',sans-serif;font-size:.44rem;font-weight:400;letter-spacing:2px;opacity:.3;margin-top:8px}
.lcov .dv{width:26px;height:1px;margin:7px auto;opacity:.12}
/* Wedding specific */
.lcov .names{font-family:'Cormorant Garamond',serif;font-size:1.25rem;font-weight:300;line-height:1.1}
.lcov .amp{font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:300;margin:1px 0;opacity:.5}
.lcov .dt{font-family:'DM Sans',sans-serif;font-size:.44rem;font-weight:400;letter-spacing:2.5px;text-transform:uppercase;opacity:.4;margin-top:8px}
.lcov .ven{font-family:'Cormorant Garamond',serif;font-size:.6rem;font-weight:300;font-style:italic;opacity:.3;margin-top:2px}

/* Theme label under card */
.card-label{text-align:center;margin-top:12px}
.card-label h4{font-size:.82rem;font-weight:500;margin-bottom:2px}
.card-label p{font-size:.62rem;font-weight:300;color:var(--tx3)}

/* ‚ïê‚ïê‚ïê CODEX TAB ‚ïê‚ïê‚ïê */
.codex-panel{max-width:900px;margin:0 auto}
.codex-hero{text-align:center;margin-bottom:40px}
.codex-hero .ch-badge{display:inline-block;padding:6px 18px;border-radius:18px;background:rgba(28,25,38,.04);border:1px solid rgba(28,25,38,.08);font-size:.5rem;font-weight:500;letter-spacing:3.5px;text-transform:uppercase;color:var(--mid);margin-bottom:14px}
.codex-hero h2{font-size:clamp(1.5rem,3vw,2.2rem);font-weight:300;line-height:1.12;margin-bottom:8px}
.codex-hero h2 em{font-style:italic;color:var(--gold2)}
.codex-hero p{font-size:.82rem;font-weight:300;color:var(--tx2);line-height:1.8;max-width:520px;margin:0 auto}

.prompt-list{display:flex;flex-direction:column;gap:20px;margin-bottom:40px}
.prompt-card{border-radius:16px;border:1px solid var(--bdr);background:rgba(255,255,255,.55);backdrop-filter:blur(8px);overflow:hidden;transition:all .4s}
.prompt-card:hover{box-shadow:0 10px 30px rgba(0,0,0,.03);border-color:rgba(201,169,110,.1)}
.prompt-head{display:flex;align-items:center;gap:12px;padding:18px 22px 14px;cursor:pointer;user-select:none}
.prompt-head .ph-num{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-family:'Cormorant Garamond',serif;font-size:.85rem;font-weight:600;color:#fff;background:var(--mid);flex-shrink:0}
.prompt-head .ph-icon{font-size:1.1rem;flex-shrink:0}
.prompt-head .ph-info{flex:1}
.prompt-head .ph-info h4{font-size:.82rem;font-weight:500;margin-bottom:1px}
.prompt-head .ph-info span{font-size:.58rem;font-weight:300;color:var(--tx3)}
.prompt-head .ph-arrow{font-size:.7rem;color:var(--tx3);transition:transform .3s;flex-shrink:0}
.prompt-card.open .ph-arrow{transform:rotate(180deg)}
.prompt-body{max-height:0;overflow:hidden;transition:max-height .5s cubic-bezier(.23,1,.32,1)}
.prompt-card.open .prompt-body{max-height:2000px}
.prompt-inner{padding:0 22px 20px}
.prompt-desc{font-size:.7rem;font-weight:300;color:var(--tx2);line-height:1.7;margin-bottom:12px}
.prompt-block{position:relative;background:var(--mid);border-radius:10px;padding:16px 18px;font-family:'SF Mono','Fira Code',monospace;font-size:.58rem;line-height:1.8;color:rgba(255,255,255,.75);white-space:pre-wrap;word-break:break-word;max-height:400px;overflow-y:auto}
.prompt-block::-webkit-scrollbar{width:4px}.prompt-block::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:2px}
.copy-btn{position:absolute;top:8px;right:8px;padding:5px 12px;border-radius:8px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.5);font-family:'DM Sans',sans-serif;font-size:.52rem;font-weight:400;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all .3s;z-index:2}
.copy-btn:hover{background:rgba(201,169,110,.15);color:var(--gold);border-color:rgba(201,169,110,.2)}
.copy-btn.copied{background:rgba(143,166,128,.15);color:var(--sage);border-color:rgba(143,166,128,.2)}

.prompt-tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:10px}
.prompt-tags span{padding:3px 9px;border-radius:8px;font-size:.48rem;font-weight:400;letter-spacing:.5px}
.pt-api{background:rgba(123,164,196,.08);border:1px solid rgba(123,164,196,.1);color:var(--sky)}
.pt-canvas{background:rgba(143,166,128,.08);border:1px solid rgba(143,166,128,.1);color:var(--sage)}
.pt-ai{background:rgba(184,160,192,.08);border:1px solid rgba(184,160,192,.1);color:var(--mauve)}
.pt-nfc{background:rgba(201,169,110,.08);border:1px solid rgba(201,169,110,.1);color:var(--gold2)}
.pt-sensor{background:rgba(212,144,122,.08);border:1px solid rgba(212,144,122,.1);color:var(--coral)}

.codex-note{text-align:center;padding:28px 24px;border-radius:16px;background:rgba(201,169,110,.025);border:1px solid rgba(201,169,110,.06);margin-bottom:24px}
.codex-note h4{font-size:.88rem;font-weight:500;margin-bottom:4px}
.codex-note p{font-size:.66rem;font-weight:300;color:var(--tx2);line-height:1.7;max-width:500px;margin:0 auto}

/* Codex live demos */
.codex-demo-wrap{display:flex;flex-direction:column;align-items:center;gap:14px;margin-bottom:16px}
.codex-demo-card{background:var(--mid);border-radius:16px}
.codex-mic-btn{padding:12px 24px;border-radius:24px;font-family:'DM Sans',sans-serif;font-size:.7rem;font-weight:500;letter-spacing:1.5px;color:#fff;background:rgba(201,169,110,.25);border:1px solid rgba(201,169,110,.4);cursor:pointer;backdrop-filter:blur(12px);transition:all .3s}
.codex-mic-btn:hover{background:rgba(201,169,110,.4);transform:translateY(-1px);box-shadow:0 6px 20px rgba(201,169,110,.2)}
.codex-demo-desc{font-size:.72rem;font-weight:300;color:var(--tx2);line-height:1.6;max-width:420px;margin:0;text-align:center}

/* AI Universe Generator demo */
.universe-demo{display:flex;flex-direction:column;align-items:center;gap:18px;margin-bottom:16px}
.universe-input-wrap{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center;width:100%;max-width:420px}
.universe-input{flex:1;min-width:200px;padding:12px 18px;border-radius:12px;border:1px solid var(--bdr);background:rgba(255,255,255,.6);font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--tx);transition:border-color .3s}
.universe-input::placeholder{color:var(--tx3)}
.universe-input:focus{outline:none;border-color:var(--gold2)}
.universe-submit{padding:12px 24px;border-radius:12px;font-family:'DM Sans',sans-serif;font-size:.7rem;font-weight:500;letter-spacing:1px;color:#fff;background:var(--mid);border:none;cursor:pointer;transition:all .3s}
.universe-submit:hover{background:var(--gold2);transform:translateY(-1px)}
.universe-generating{display:none;text-align:center;padding:24px 20px}
.universe-generating-text{font-family:'Cormorant Garamond',serif;font-size:1.1rem;font-weight:300;color:var(--tx2);margin-bottom:16px}
.universe-palette-preview{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
.universe-swatch{width:32px;height:32px;border-radius:8px;opacity:0;animation:universeSwatchFade .6s ease forwards}
@keyframes universeSwatchFade{to{opacity:1}}
.universe-card-wrap{display:flex;flex-direction:column;align-items:center;gap:12px;width:100%}
.universe-card-wrap .live-card{max-width:280px;margin:0 auto}
.universe-try{display:none}
.universe-try-btn{padding:8px 20px;border-radius:24px;font-family:'DM Sans',sans-serif;font-size:.62rem;font-weight:500;letter-spacing:1.5px;text-transform:uppercase;color:var(--tx2);background:transparent;border:1px solid var(--bdr);cursor:pointer;transition:all .3s}
.universe-try-btn:hover{border-color:var(--gold2);color:var(--gold2)}

/* Photo-reactive card */
.photo-card-ui{position:absolute;inset:0;z-index:4;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;pointer-events:none}
.photo-card-ui>*{pointer-events:auto}
.photo-upload-btn{
  padding:12px 28px;border-radius:999px;font-family:'DM Sans',sans-serif;font-size:.7rem;font-weight:500;letter-spacing:1.5px;text-transform:uppercase;
  color:rgba(255,255,255,.95);background:rgba(255,255,255,.12);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
  border:1px solid rgba(255,255,255,.25);cursor:pointer;transition:all .3s;box-shadow:0 4px 20px rgba(0,0,0,.15)
}
.photo-upload-btn:hover{background:rgba(255,255,255,.2);border-color:rgba(255,255,255,.35);transform:translateY(-2px)}
.photo-card-ui .photo-palette-dots{position:absolute;top:12px;right:12px;display:flex;gap:6px;flex-wrap:wrap;justify-content:flex-end;max-width:80px}
.photo-card-ui .photo-palette-dot{width:14px;height:14px;border-radius:50%;border:1px solid rgba(255,255,255,.3);box-shadow:0 1px 4px rgba(0,0,0,.2)}
.photo-card-ui .photo-loading{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.2);
  font-size:.75rem;font-weight:500;letter-spacing:1.5px;color:#fff;opacity:0;
  animation:photoPulse 1s ease-in-out infinite
}
@keyframes photoPulse{0%,100%{opacity:.6}50%{opacity:1}}
.photo-card-ui .photo-loading.visible{display:flex;opacity:1}
.photo-card-ui .photo-thumbnail{
  position:absolute;bottom:12px;left:12px;width:40px;height:40px;border-radius:8px;object-fit:cover;opacity:.5;
  border:1px solid rgba(255,255,255,.2);box-shadow:0 2px 8px rgba(0,0,0,.2)
}
.photo-card-ui input[type="file"]{position:absolute;width:0;height:0;opacity:0}

/* ‚ïê‚ïê‚ïê CTA SECTION ‚ïê‚ïê‚ïê */
.bottom-cta{position:relative;z-index:2;text-align:center;padding:60px 32px 80px}
.bottom-cta h2{font-size:clamp(1.4rem,3vw,2rem);font-weight:300;margin-bottom:6px}
.bottom-cta h2 em{font-style:italic;color:var(--blush)}
.bottom-cta p{font-size:.78rem;font-weight:300;color:var(--tx2);margin-bottom:20px}
.bottom-cta .btn-p{padding:14px 40px}
.bottom-cta a.btn-p{display:inline-block;text-decoration:none;color:#fff}
.bottom-cta .pr{font-size:.64rem;color:var(--tx3);margin-top:12px}.bottom-cta .pr b{color:var(--gold2);font-weight:500}

/* FOOTER */
.ftr{position:relative;z-index:2;text-align:center;padding:22px;border-top:1px solid var(--bdr)}
.ftr .fl{font-family:'Cormorant Garamond',serif;font-size:.82rem;font-weight:500}.ftr .fl i{color:var(--blush);font-style:normal}
.ftr p{font-size:.54rem;color:var(--txf);letter-spacing:1px;margin-top:2px}

/* REVEALS */
.rv{opacity:0;transform:translateY(26px);transition:all .8s cubic-bezier(.23,1,.32,1)}.rv.v{opacity:1;transform:translateY(0)}
.d1{transition-delay:.1s}.d2{transition-delay:.18s}.d3{transition-delay:.26s}

@media(max-width:900px){
  .cards-row{grid-template-columns:1fr 1fr;gap:20px}
  .prompt-list{flex-direction:column}
  .nl a:not(.nav-cta){display:none}
  .tabs-bar{gap:3px}
  .tab-btn{padding:8px 14px;font-size:.56rem}
}
@media(max-width:600px){.cards-row{grid-template-columns:1fr;max-width:300px;margin-left:auto;margin-right:auto}}
</style>
</head>
<body>

<canvas id="gardenC"></canvas>

<nav class="nav" id="nav">
  <div class="logo">Live<i>Card</i> Studio</div>
  <div class="nl"><a href="#tabs">Events</a><a href="#cta">Pricing</a><a href="/login.html">Sign In</a><a href="/login.html" class="nav-cta">Create Card</a></div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="htag"><span class="dot"></span>Now in Preview</div>
  <h1>Greeting cards that <em>breathe,</em> bloom, and come <span class="gold">alive</span></h1>
  <p class="sub">Living digital cards with real-time particle physics, floating petals, and photos that transform into art. For every occasion worth remembering.</p>
</section>

<!-- EVENT TABS -->
<div class="tabs-wrap" id="tabs">
  <div class="tabs-bar" id="tabsBar">
    <button class="tab-btn active" data-tab="wedding">üíç Weddings</button>
    <button class="tab-btn" data-tab="birthday">üéÇ Birthdays</button>
    <button class="tab-btn" data-tab="mothers">üå∏ Mother's Day</button>
    <button class="tab-btn" data-tab="baby">üë∂ Baby Shower</button>
    <button class="tab-btn" data-tab="grad">üéì Graduation</button>
    <button class="tab-btn" data-tab="holiday">‚ú® Holidays</button>
    <button class="tab-btn codex-btn" data-tab="codex">üß¨ Custom Studio</button>
  </div>

  <!-- ‚ïê‚ïê‚ïê WEDDING ‚ïê‚ïê‚ïê -->
  <div class="tab-panel active" id="tab-wedding">
    <div class="event-intro"><h2>Living invitations for your <em style="color:var(--blush)">forever day</em></h2><p>Save-the-dates and invitations with floating particles, atmospheric light, and one-tap RSVP. Three curated collections.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="w1" data-engine="starfield" data-palette="gold"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E8E0D0"><div class="mono" style="color:#C9A96E">Save the Date</div><div class="dv" style="background:#C9A96E"></div><div class="names">Olivia</div><div class="amp" style="color:#C9A96E">&</div><div class="names">James</div><div class="dv" style="background:rgba(255,255,255,.1)"></div><div class="dt">September 14, 2026</div><div class="ven">The Garden Estate ¬∑ Napa Valley</div></div>
        </div>
        <div class="card-label"><h4>Black Tie</h4><p>Midnight gold & starlight</p></div>
      </div>
      <div>
        <div class="live-card" id="w2" data-engine="dust" data-palette="ivory"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#3A3530"><div class="mono" style="color:#8A837B">Wedding</div><div class="dv" style="background:#D0C8BE"></div><div class="names" style="letter-spacing:2px">Sophie</div><div class="amp" style="color:#B8A090">&</div><div class="names" style="letter-spacing:2px">Daniel</div><div class="dv" style="background:#D0C8BE"></div><div class="dt" style="color:#8A837B">June 21, 2026</div></div>
        </div>
        <div class="card-label"><h4>Modern Minimal</h4><p>Clean lines, quiet beauty</p></div>
      </div>
      <div>
        <div class="live-card" id="w3" data-engine="petals" data-palette="garden"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#3A3020"><div class="mono" style="color:#8FA680">Save the Date</div><div class="dv" style="background:#C0B8A0"></div><div class="names">Emma</div><div class="amp" style="color:#D4A0A0">&</div><div class="names">Liam</div><div class="dv" style="background:#C0B8A0"></div><div class="dt" style="color:#8A7A60">April 12, 2026</div></div>
        </div>
        <div class="card-label"><h4>Garden Romance</h4><p>Petals through golden light</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê BIRTHDAY ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-birthday">
    <div class="event-intro"><h2>Birthday cards that feel like a <em style="color:var(--coral)">celebration</em></h2><p>Confetti bursts, candle glows, and party energy. Cards they'll actually want to open more than once.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="b1" data-engine="confetti" data-palette="party"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#F8F0E4"><div class="mono" style="color:#D4907A">Birthday</div><div class="dv" style="background:rgba(255,255,255,.12)"></div><div class="title">Happy<br>Birthday!</div><div class="msg">Another year of being absolutely wonderful</div><div class="from">‚Äî Love, everyone</div></div>
        </div>
        <div class="card-label"><h4>Confetti Pop</h4><p>Bursting celebration energy</p></div>
      </div>
      <div>
        <div class="live-card" id="b2" data-engine="candles" data-palette="warm"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#F8E8D0"><div class="mono" style="color:#D4A060">Make a Wish</div><div class="dv" style="background:rgba(255,200,100,.15)"></div><div class="title" style="font-size:1.5rem">‚ú® 30 ‚ú®</div><div class="msg">Blow out the candles and make it count</div><div class="from">‚Äî Your people</div></div>
        </div>
        <div class="card-label"><h4>Candlelight</h4><p>Warm glow, intimate vibes</p></div>
      </div>
      <div>
        <div class="live-card" id="b3" data-engine="starfield" data-palette="neon"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E0E8FF"><div class="mono" style="color:#7BA4C4">Party Time</div><div class="dv" style="background:rgba(123,164,196,.2)"></div><div class="title">Let's<br>Celebrate</div><div class="msg">Life's too short for boring cards</div><div class="from">‚Äî The squad</div></div>
        </div>
        <div class="card-label"><h4>Cosmic Glow</h4><p>Neon starfield party</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê MOTHER'S DAY ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-mothers">
    <div class="event-intro"><h2>Tell her she's everything in a card that <em style="color:var(--blush)">lives</em></h2><p>Soft botanicals, floating petals, and words that feel as warm as she does. Cards she'll revisit all year.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="m1" data-engine="petals" data-palette="rose"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#4A2030"><div class="mono" style="color:#C08080">Mother's Day</div><div class="dv" style="background:#D4A0A0"></div><div class="title">Mom,<br>thank you</div><div class="msg">For every quiet sacrifice and loud laugh</div><div class="from">‚Äî With all my love</div></div>
        </div>
        <div class="card-label"><h4>Rose Garden</h4><p>Floating blush petals</p></div>
      </div>
      <div>
        <div class="live-card" id="m2" data-engine="petals" data-palette="lavender"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#3A2840"><div class="mono" style="color:#B088C0">For You, Mom</div><div class="dv" style="background:#B8A0C0"></div><div class="title">You are<br>my world</div><div class="msg">Everything beautiful I know, I learned from you</div><div class="from">‚Äî Always yours</div></div>
        </div>
        <div class="card-label"><h4>Lavender Dream</h4><p>Gentle purple botanicals</p></div>
      </div>
      <div>
        <div class="live-card" id="m3" data-engine="petals" data-palette="sunlit"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#3A3020"><div class="mono" style="color:#C0A060">Happy Mother's Day</div><div class="dv" style="background:#D4C090"></div><div class="title">Like the<br>sun itself</div><div class="msg">Warm, bright, and the center of everything</div><div class="from">‚Äî Your sunshine</div></div>
        </div>
        <div class="card-label"><h4>Golden Hour</h4><p>Sunlit warmth & pollen</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê BABY SHOWER ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-baby">
    <div class="event-intro"><h2>Welcome the little one with <em style="color:var(--mint)">wonder</em></h2><p>Soft pastels, floating bubbles, and dreamy clouds. Invitations as tender as the occasion.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="bs1" data-engine="bubbles" data-palette="softblue"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#2A3540"><div class="mono" style="color:#7BA4C4">Baby Shower</div><div class="dv" style="background:#A0C0D4"></div><div class="title">A little<br>one awaits</div><div class="msg">Join us in celebrating new beginnings</div><div class="from">‚Äî Mom & Dad</div></div>
        </div>
        <div class="card-label"><h4>Cloud Nine</h4><p>Soft blue floating bubbles</p></div>
      </div>
      <div>
        <div class="live-card" id="bs2" data-engine="bubbles" data-palette="softpink"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#402A30"><div class="mono" style="color:#D4A0A8">Welcome Baby</div><div class="dv" style="background:#E0B8C0"></div><div class="title">Sweet<br>arrival</div><div class="msg">A tiny miracle is on the way</div><div class="from">‚Äî The parents-to-be</div></div>
        </div>
        <div class="card-label"><h4>Blush Cloud</h4><p>Pastel pink dreamscape</p></div>
      </div>
      <div>
        <div class="live-card" id="bs3" data-engine="bubbles" data-palette="mint"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#203530"><div class="mono" style="color:#7AC4A8">Oh Baby!</div><div class="dv" style="background:#90D4B8"></div><div class="title">Growing<br>love</div><div class="msg">Something wonderful this way comes</div><div class="from">‚Äî With joy</div></div>
        </div>
        <div class="card-label"><h4>Mint Garden</h4><p>Fresh botanical softness</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê GRADUATION ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-grad">
    <div class="event-intro"><h2>They did it ‚Äî now send a card that <em style="color:var(--gold2)">shines</em></h2><p>Achievement energy with gold accents, rising particles, and proud vibes. For the graduate who deserves more than a text.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="g1" data-engine="rise" data-palette="navy"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E0E0E8"><div class="mono" style="color:#C9A96E">Congratulations</div><div class="dv" style="background:#C9A96E"></div><div class="title">You<br>did it!</div><div class="msg">The world just got a lot brighter</div><div class="from">‚Äî So proud</div></div>
        </div>
        <div class="card-label"><h4>Navy & Gold</h4><p>Classic achievement glow</p></div>
      </div>
      <div>
        <div class="live-card" id="g2" data-engine="confetti" data-palette="gradparty"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#F8F0E4"><div class="mono" style="color:#D4907A">Class of 2026</div><div class="dv" style="background:rgba(255,255,255,.12)"></div><div class="title">Go get<br>'em, grad</div><div class="msg">This is just the beginning</div><div class="from">‚Äî The fam</div></div>
        </div>
        <div class="card-label"><h4>Grad Party</h4><p>Confetti celebration burst</p></div>
      </div>
      <div>
        <div class="live-card" id="g3" data-engine="starfield" data-palette="twilight"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E0D8F0"><div class="mono" style="color:#B088C0">The Future</div><div class="dv" style="background:rgba(176,136,192,.2)"></div><div class="title">Stars<br>ahead</div><div class="msg">Your story is just beginning to unfold</div><div class="from">‚Äî Believe in it</div></div>
        </div>
        <div class="card-label"><h4>Twilight</h4><p>Dreamy star-field future</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê HOLIDAYS ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-holiday">
    <div class="event-intro"><h2>Season's greetings that <em style="color:var(--sage)">glow</em></h2><p>From cozy Christmas to sparkling New Year's ‚Äî festive cards that capture the magic of the season.</p></div>
    <div class="cards-row">
      <div>
        <div class="live-card" id="h1" data-engine="snow" data-palette="winter"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E0E8F0"><div class="mono" style="color:#90B0C8">Happy Holidays</div><div class="dv" style="background:rgba(180,200,220,.2)"></div><div class="title">Peace &<br>Joy</div><div class="msg">Wishing you warmth in every snowflake</div><div class="from">‚Äî From our family</div></div>
        </div>
        <div class="card-label"><h4>Winter Wonderland</h4><p>Gentle snowfall & frost</p></div>
      </div>
      <div>
        <div class="live-card" id="h2" data-engine="candles" data-palette="christmas"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#F0E8D8"><div class="mono" style="color:#B08040">Merry Christmas</div><div class="dv" style="background:rgba(180,130,60,.15)"></div><div class="title">Tis the<br>Season</div><div class="msg">May your days be merry and bright</div><div class="from">‚Äî Ho ho ho</div></div>
        </div>
        <div class="card-label"><h4>Fireside</h4><p>Warm candlelight glow</p></div>
      </div>
      <div>
        <div class="live-card" id="h3" data-engine="starfield" data-palette="newyear"><canvas class="c0"></canvas><canvas class="c1"></canvas>
          <div class="lcov" style="color:#E8E0F0"><div class="mono" style="color:#C9A96E">New Year</div><div class="dv" style="background:#C9A96E"></div><div class="title">2027<br>Awaits</div><div class="msg">Here's to new adventures and brighter days</div><div class="from">‚Äî Cheers!</div></div>
        </div>
        <div class="card-label"><h4>Midnight Spark</h4><p>New Year's starfield</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê CODEX TAB ‚ïê‚ïê‚ïê -->
  <div class="tab-panel" id="tab-codex">
    <div class="codex-panel">
      <div class="codex-hero">
        <div class="ch-badge">üß¨ Custom Studio ‚Äî Build Prompts</div>
        <h2>Copy these prompts into <em>Claude Code</em></h2>
        <p>Each prompt below is engineered to build a production-ready feature for LiveCard Studio. Open your project in VS Code, launch Claude Code, and paste. Click any card to expand the full prompt.</p>
      </div>

      <div class="codex-note">
        <h4>‚ö° Before you start</h4>
        <p>Make sure your LiveCard Studio project is open in VS Code and Claude Code (terminal) is running. These prompts reference the existing codebase structure ‚Äî the card engine, particle systems, canvas renderer, and theme palette system. Run them in order for best results.</p>
      </div>

      <div class="prompt-list">

        <!-- PROMPT 1: Sound-Reactive ‚Äî Live demo -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">1</div>
            <div class="ph-icon">üéôÔ∏è</div>
            <div class="ph-info"><h4>Sound-Reactive Cards</h4><span>Web Audio API ¬∑ Frequency analysis ¬∑ Particle physics</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="sound-reactive"></div>
            <p class="codex-demo-desc codex-demo-desc-1">Bass drives particle size, mids shift hue, highs trigger sparkles. Enable the mic and make some noise ‚Äî you‚Äôll see the frequency bars at the bottom and bass rings on big hits.</p>
            <div class="prompt-tags"><span class="pt-api">Web Audio API</span><span class="pt-canvas">Canvas 2D</span><span class="pt-sensor">MediaStream</span></div>
          </div></div>
        </div>

        <!-- PROMPT 2: Gesture Physics -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">2</div>
            <div class="ph-icon">üì±</div>
            <div class="ph-info"><h4>Gesture Physics Engine</h4><span>DeviceOrientation ¬∑ Accelerometer ¬∑ Blow detection</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="gesture-physics"></div>
            <p class="codex-demo-desc">Device sensors mapped to real-time force vectors on particles. Tilt your phone and gravity shifts. Blow into the mic and petals scatter. Shake and particles burst outward.</p>
            <div class="prompt-desc">Full prompt (copy to Claude):</div>
            <div class="prompt-block" id="p2">Build a gesture physics engine for LiveCard Studio cards.

CONTEXT: Cards render particles on canvas with position {x,y}, velocity {vx,vy}, and per-frame updates. Existing particle types include petals (bezier shapes), stars (circles with glow), embers (radial gradients), confetti (rotating rectangles), bubbles, snow, and dust motes.

REQUIREMENTS:
1. Create a GesturePhysicsEngine class with three input sources:

   TILT (DeviceOrientationEvent):
   - Map event.gamma (left/right tilt, -90 to 90) to gravity X force
   - Map event.beta (front/back tilt, -180 to 180) to gravity Y force  
   - Normalize to force vector magnitude 0-2
   - Apply as acceleration to all particles each frame: p.vx += gravityX * 0.02; p.vy += gravityY * 0.02
   - Request permission on iOS 13+ with DeviceOrientationEvent.requestPermission()
   - Desktop fallback: map mouse position relative to card center as gravity direction

   BLOW (Microphone amplitude):
   - Reuse mic stream from sound-reactive module if available, or create new
   - Monitor RMS amplitude of audio input
   - When amplitude spikes above threshold (0.15) for 3+ consecutive frames:
     * Apply upward scatter force to all particles: p.vy -= blowForce * 3; p.vx += (Math.random()-0.5) * blowForce * 2
     * Trigger visual wind lines (3-5 curved strokes sweeping upward, fade out over 20 frames)
   - Detect blow vs speech: blow = sustained amplitude with low frequency dominance

   SHAKE (DeviceMotionEvent):
   - Monitor accelerationIncludingGravity magnitude: sqrt(x¬≤ + y¬≤ + z¬≤)
   - When magnitude exceeds threshold (25) for 2+ frames:
     * Apply random burst force to all particles: random direction, magnitude 3-6
     * Spawn 15 extra burst particles at card center that fly outward and fade
     * Add screen shake: translate card by random ¬±3px for 10 frames, ease back

2. Gesture indicator UI:
   - Small badge appears top-right when gesture detected: "Tilting...", "Blow!", "Shake!"
   - Badge auto-fades after 2 seconds
   - Subtle directional arrow on canvas showing current gravity vector (faint, 20% opacity)

3. Velocity damping: multiply all velocities by 0.97 per frame to prevent runaway speeds

4. Boundary wrapping: particles that exit one edge re-enter from the opposite edge

5. Integration: Export class with start(canvasEl, particlesArray)/stop() interface. Should layer on top of existing particle render loop without replacing it.

TECH: Vanilla JS. Must handle iOS permission dialogs gracefully. Include feature detection for all sensor APIs.
              <button class="copy-btn" onclick="copyPrompt(event,'p2')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-sensor">DeviceOrientation</span><span class="pt-sensor">Accelerometer</span><span class="pt-api">MediaStream</span><span class="pt-canvas">Canvas 2D</span></div>
          </div></div>
        </div>

        <!-- PROMPT 3: Time-Evolving Lifecycle -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">3</div>
            <div class="ph-icon">üåÖ</div>
            <div class="ph-info"><h4>Time-Evolving Lifecycle</h4><span>Date math ¬∑ Stage transitions ¬∑ Seasonal rendering</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="lifecycle"></div>
            <p class="codex-demo-desc">Cards that age like a real garden. Day 1 shows seeds. Day 5 shows sprouts. Day 10 blooms fully. Day 35 fades to gold. Use the slider to scrub through days.</p>
            <div class="prompt-desc">Full prompt (copy to Claude):</div>
            <div class="prompt-block" id="p3">Build a time-evolving lifecycle system for LiveCard Studio. Input: card.createdAt. Define 6 stages (SEED, SPROUT, BUD, BLOOM, FULL GARDEN, GOLDEN FADE). Export getLifecycleState(createdAt).<button class="copy-btn" onclick="copyPrompt(event,'p3')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-canvas">Canvas 2D</span><span class="pt-api">Date API</span></div>
          </div></div>
        </div>

        <!-- PROMPT 4: Photo-Reactive Worlds -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">4</div>
            <div class="ph-icon">üé®</div>
            <div class="ph-info"><h4>Photo-Reactive Worlds</h4><span>Color extraction ¬∑ Palette generation ¬∑ Dynamic theming</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="photo-reactive">
              <div class="codex-demo-wrap" style="align-items:center">
                <div class="live-card photo-upload-card" id="photoCard" data-engine="photo" data-palette="gold">
                  <canvas class="c0"></canvas><canvas class="c1"></canvas>
                  <div class="photo-card-ui">
                    <input type="file" id="photoInput" accept="image/*" hidden />
                    <button type="button" class="photo-upload-btn" id="photoUploadBtn">Upload Photo</button>
                    <div class="photo-palette-dots" id="photoPaletteDots" aria-hidden="true"></div>
                    <div class="photo-loading" id="photoLoading">Generating universe‚Ä¶</div>
                    <img class="photo-thumbnail" id="photoThumbnail" alt="" hidden />
                  </div>
                </div>
              </div>
            </div>
            <p class="codex-demo-desc">Upload any photo and the card extracts dominant colors and generates a matching living universe.</p>
            <div class="prompt-block" id="p4">Build a photo-reactive world generator. K-means color extraction, warmth/brightness analysis, world generation from palette. Export generateWorldFromImage(imageFile).<button class="copy-btn" onclick="copyPrompt(event,'p4')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-canvas">Canvas 2D</span><span class="pt-ai">Color Science</span><span class="pt-api">File API</span></div>
          </div></div>
        </div>

        <!-- PROMPT 5: AI Personal Universe -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">5</div>
            <div class="ph-icon">üîÆ</div>
            <div class="ph-info"><h4>AI Personal Universe Generator</h4><span>Text parsing ¬∑ Concept-to-visual mapping</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="universe"></div>
            <p class="codex-demo-desc">Type a description and the card generates a unique living world with matching palette and particle shapes.</p>
            <div class="prompt-block" id="p5">Build an AI personal universe generator. Concept keyword dictionary (40+ entries), text parsing, world generation. Export generateUniverseFromText(text).<button class="copy-btn" onclick="copyPrompt(event,'p5')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-ai">NLP Parsing</span><span class="pt-canvas">Canvas 2D</span></div>
          </div></div>
        </div>

        <!-- PROMPT 6: Constellation Group Cards ‚Äî Live demo -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">6</div>
            <div class="ph-icon">üë•</div>
            <div class="ph-info"><h4>Constellation Group Cards</h4><span>Multi-contributor ¬∑ Star map ¬∑ Tap-to-reveal</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="codex-demo-container" data-demo="constellation"></div>
            <p class="codex-demo-desc">Every person becomes a star in your sky. Tap any star to see who it is ‚Äî the star brightens, a ring of light expands, then the message rises. Watch for the shooting star.</p>
            <p style="margin-top:10px"><a href="constellation.html" class="copy-btn" style="display:inline-block;text-decoration:none">Create your own constellation card ‚Üí</a></p>
            <div class="prompt-tags"><span class="pt-canvas">Canvas 2D</span><span class="pt-api">localStorage</span><span class="pt-api">Touch Events</span></div>
          </div></div>
        </div>

        <!-- PROMPT 7: Generative Ambient Sound -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">7</div>
            <div class="ph-icon">üéµ</div>
            <div class="ph-info"><h4>Generative Ambient Sound</h4><span>Web Audio oscillators ¬∑ Procedural music ¬∑ Never loops</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="prompt-desc">Each card gets a unique procedural soundtrack that never loops ‚Äî ocean drones, garden crickets, starfield shimmer.</div>
            <div class="prompt-block" id="p7">Build AmbientSoundEngine: theme-mapped sound palettes (ocean, garden, fire, starfield, celebration), procedural timing, start/stop/setVolume. Web Audio only.<button class="copy-btn" onclick="copyPrompt(event,'p7')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-api">Web Audio API</span><span class="pt-ai">Procedural Audio</span></div>
          </div></div>
        </div>

        <!-- PROMPT 8: NFC Integration -->
        <div class="prompt-card">
          <div class="prompt-head" onclick="this.parentElement.classList.toggle('open')">
            <div class="ph-num">8</div>
            <div class="ph-icon">üì±</div>
            <div class="ph-info"><h4>NFC Print Bridge</h4><span>Web NFC API ¬∑ Deep linking ¬∑ QR fallback</span></div>
            <div class="ph-arrow">‚ñº</div>
          </div>
          <div class="prompt-body"><div class="prompt-inner">
            <div class="prompt-desc">Connects physical NFC-embedded cards to their digital living versions. Landing page, QR fallback, analytics.</div>
            <div class="prompt-block" id="p8">Build NFC-to-digital bridge: URL schema lcs_{id}, landing page /c/:cardId with load sequence, styled QR export, client-side analytics, card management dashboard.<button class="copy-btn" onclick="copyPrompt(event,'p8')">Copy</button></div>
            <div class="prompt-tags"><span class="pt-nfc">NFC</span><span class="pt-api">URL Routing</span><span class="pt-canvas">QR Generation</span></div>
          </div></div>
        </div>

        <div class="codex-note">
          <h4>üí° Pro tip</h4>
          <p>Run prompts 1-5 as individual features first, test each one, then ask Claude Code to integrate them into a unified card engine with a config-driven approach. Prompt 8 (NFC Bridge) is the production deployment layer ‚Äî save it for when the features are solid.</p>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- BOTTOM CTA -->
<section class="bottom-cta rv" id="cta">
  <h2>Ready to send something <em>alive?</em></h2>
  <p>Start free. Upgrade when you're ready.</p>
  <a href="/login.html" class="nav-cta btn-p">Create Your Card</a>
  <p class="pr">Free tier available ¬∑ Premium themes from <b>$4.99</b> ¬∑ NFC prints from <b>$12/card</b></p>
</section>

<div class="ftr"><div class="fl">Live<i>Card</i> Studio</div><p>¬© 2026 LiveCard Studio ¬∑ Living cards for every moment</p></div>

<script src="js/ambient-sound-engine.js"></script>
<script>
const dpr=Math.min(devicePixelRatio||1,2);let sY=0;
addEventListener('scroll',()=>{sY=window.scrollY});

// ‚ïê‚ïê‚ïê COPY PROMPT ‚ïê‚ïê‚ïê
function copyPrompt(e,id){
  e.stopPropagation();
  const el=document.getElementById(id);
  const btn=el.querySelector('.copy-btn');
  const text=el.textContent.replace(btn.textContent,'').trim();
  navigator.clipboard.writeText(text).then(()=>{
    btn.textContent='Copied!';btn.classList.add('copied');
    setTimeout(()=>{btn.textContent='Copy';btn.classList.remove('copied')},2000);
  });
}

// ‚ïê‚ïê‚ïê PALETTES ‚ïê‚ïê‚ïê
const PAL={
  gold:{bg:'#1C1926',blobs:['55,40,95','95,70,135','130,100,55'],star:true,goldRate:.6},
  neon:{bg:'#0A0A18',blobs:['40,60,140','80,40,160','60,100,180'],star:true,goldRate:.2},
  navy:{bg:'#101828',blobs:['30,50,100','60,80,120','100,80,40'],star:true,goldRate:.5},
  twilight:{bg:'#1A1028',blobs:['60,30,100','100,60,140','80,50,120'],star:true,goldRate:.3},
  newyear:{bg:'#14101E',blobs:['80,50,120','120,80,50','50,30,80'],star:true,goldRate:.65},
  warm:{bg:'#1A1008',blobs:['100,60,20','80,40,10','60,30,8'],star:false},
  christmas:{bg:'#140A06',blobs:['100,40,10','60,80,20','80,60,15'],star:false},
  ivory:{bg:'#FAF7F2',blobs:['215,210,200','200,195,185'],light:true},
  garden:{bg:'#F5EFE0',blobs:['200,185,160','180,200,170','210,180,180'],light:true},
  rose:{bg:'#FAF0F0',blobs:['220,180,185','200,170,175','230,195,195'],light:true},
  lavender:{bg:'#F4F0FA',blobs:['200,185,220','185,175,210','215,200,230'],light:true},
  sunlit:{bg:'#FAF5E8',blobs:['220,200,160','210,190,150','200,180,140'],light:true},
  softblue:{bg:'#F0F5FA',blobs:['185,205,225','175,195,215','195,210,230'],light:true},
  softpink:{bg:'#FAF0F2',blobs:['225,195,205','215,185,195','235,210,220'],light:true},
  mint:{bg:'#F0FAF5',blobs:['180,220,200','170,210,190','190,230,210'],light:true},
  winter:{bg:'#0E1218',blobs:['40,60,90','30,50,80','50,70,100'],star:false},
  party:{bg:'#1A0A14',blobs:['120,40,80','80,30,100','140,60,60'],star:false},
  gradparty:{bg:'#180A10',blobs:['100,40,60','80,50,100','60,80,40'],star:false},
};

// ‚ïê‚ïê‚ïê UNIVERSE DEFAULT (AI generator fallback) ‚ïê‚ïê‚ïê
function getDefaultUniverseConfig(){
  return { bg:'#0A0A18', blobs:['20,20,50','60,60,120','80,80,160'], light:false, motion:'drift', particleShape:'star', density:35, palette:['#0A0A18','#181830','#6060A0','#A0A0E0'] };
}
function hexToRgba(hex,a){const n=parseInt(hex.slice(1),16);return `rgba(${n>>16},${(n>>8)&255},${n&255},${a})`;}
function drawUniverseShape(ctx,shapeName,s,op,sx,sy,t,ph,hex){
  const col=hexToRgba(hex,op*(.5+.5*Math.sin(t*.001+ph)));
  ctx.fillStyle=col;ctx.strokeStyle=col;
  if(shapeName==='heart'){
    ctx.beginPath();const scale=s*sx;ctx.moveTo(0,-.35*scale);ctx.bezierCurveTo(.5*scale,-.35*scale,.6*scale,0,0,.25*scale);ctx.bezierCurveTo(-.6*scale,0,-.5*scale,-.35*scale,0,-.35*scale);ctx.fill();
  }
  else if(shapeName==='flower'){
    const scale=s*sx;const petalR=scale*.5;const pw=scale*.15;
    for(let i=0;i<5;i++){const a=(i/5)*Math.PI*2;ctx.save();ctx.rotate(a);ctx.beginPath();ctx.moveTo(0,0);ctx.bezierCurveTo(pw,-petalR*.5,pw*.8,petalR*.3,0,petalR);ctx.bezierCurveTo(-pw*.6,petalR*.4,-pw*.9,-petalR*.3,0,0);ctx.fill();ctx.restore();}
    ctx.beginPath();ctx.arc(0,0,scale*.12,0,Math.PI*2);ctx.fill();
  }
  else if(shapeName==='leaf'){
    ctx.beginPath();const scale=s*sx;ctx.moveTo(0,-.5*scale);ctx.bezierCurveTo(scale*.4,.1*scale,.25*scale,.5*scale,0,.5*scale);ctx.bezierCurveTo(-.25*scale,.5*scale,-.4*scale,.1*scale,0,-.5*scale);ctx.fill();
  }
  else if(shapeName==='music'){
    const scale=s*sx;ctx.beginPath();ctx.arc(0,-.4*scale,scale*.2,0,Math.PI*2);ctx.fill();ctx.beginPath();ctx.moveTo(0,-.6*scale);ctx.lineTo(0,.6*scale);ctx.lineTo(.15*scale,.4*scale);ctx.lineTo(.15*scale,-.2*scale);ctx.closePath();ctx.fill();ctx.strokeStyle=col;ctx.lineWidth=.5;ctx.stroke();
  }
  else if(shapeName==='star'){
    const scale=s*sx;const outer=scale*.5;const inner=scale*.2;ctx.beginPath();for(let i=0;i<10;i++){const r=i%2?inner:outer;const a=(i/10)*Math.PI*2-Math.PI/2;const x=Math.cos(a)*r,y=Math.sin(a)*r;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y);}ctx.closePath();ctx.fill();
  }
  else if(shapeName==='crystal'){
    const scale=s*sx;ctx.beginPath();for(let i=0;i<6;i++){const a=(i/6)*Math.PI*2;const x=Math.cos(a)*scale*.45,y=Math.sin(a)*scale*.45;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y);}ctx.closePath();ctx.stroke();const a0=ctx.globalAlpha;ctx.globalAlpha=a0*0.6;ctx.fill();ctx.globalAlpha=a0;
  }
  else if(shapeName==='ember'){
    const r=s*sx;const gr=ctx.createRadialGradient(0,0,0,0,0,r*2);gr.addColorStop(0,col);gr.addColorStop(1,'rgba(0,0,0,0)');ctx.fillStyle=gr;ctx.fillRect(-r*2,-r*2,r*4,r*4);ctx.beginPath();ctx.arc(0,0,r*.35,0,Math.PI*2);ctx.fillStyle=hexToRgba(hex,.9);ctx.fill();
  }
  else if(shapeName==='bubble'){
    ctx.lineWidth=.4;ctx.strokeStyle=hexToRgba(hex,op*.6);ctx.beginPath();ctx.arc(0,0,s*sx,0,Math.PI*2);ctx.stroke();const bg=ctx.createRadialGradient(-s*sx*.2,-s*sy*.2,0,0,0,s*sx);bg.addColorStop(0,'rgba(255,255,255,.08)');bg.addColorStop(1,'rgba(255,255,255,0)');ctx.fillStyle=bg;ctx.fill();
  }
  else if(shapeName==='snowflake'){
    const scale=s*sx*.4;ctx.lineWidth=.3;ctx.strokeStyle=col;for(let i=0;i<6;i++){const a=(i/6)*Math.PI*2;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(Math.cos(a)*scale,Math.sin(a)*scale);ctx.moveTo(Math.cos(a)*scale*.6,Math.sin(a)*scale*.6);ctx.lineTo(Math.cos(a+0.3)*scale*.8,Math.sin(a+0.3)*scale*.8);ctx.moveTo(Math.cos(a)*scale*.6,Math.sin(a)*scale*.6);ctx.lineTo(Math.cos(a-0.3)*scale*.8,Math.sin(a-0.3)*scale*.8);ctx.stroke();}
  }
  else if(shapeName==='confetti'){
    const w=s*sx*.8,h=s*sy*.25;ctx.fillRect(-w/2,-h/2,w,h);
  }
  else if(shapeName==='diamond'){
    const scale=s*sx;ctx.beginPath();ctx.moveTo(0,-.5*scale);ctx.lineTo(.4*scale,0);ctx.lineTo(0,.5*scale);ctx.lineTo(-.4*scale,0);ctx.closePath();ctx.fill();
  }
  else if(shapeName==='raindrop'){
    ctx.beginPath();const scale=s*sx;ctx.moveTo(0,-.5*scale);ctx.bezierCurveTo(.35*scale,.2*scale,.2*scale,.5*scale,0,.5*scale);ctx.bezierCurveTo(-.2*scale,.5*scale,-.35*scale,.2*scale,0,-.5*scale);ctx.fill();
  }
  else{
    ctx.beginPath();ctx.arc(0,0,s*sx*.4,0,Math.PI*2);ctx.fill();
  }
}

// ‚ïê‚ïê‚ïê CARD ENGINE ‚ïê‚ïê‚ïê
const activeCards=new Map();

function bootCard(el){
  const eng=el.dataset.engine;
  const palName=el.dataset.palette;
  const photoConfig=el._photoConfig;
  const universeConfig=el._universeConfig;
  const pal=eng==='universe'
    ? (universeConfig||getDefaultUniverseConfig())
    : eng==='photo'
    ? (photoConfig?{bg:photoConfig.bg,blobs:photoConfig.blobs||[],light:photoConfig.light}:{bg:'#1e1c24',blobs:[],light:false})
    : (PAL[palName]||PAL.gold);
  const c0=el.querySelector('.c0'),c1=el.querySelector('.c1');
  const x0=c0.getContext('2d'),x1=c1.getContext('2d');

  function sz(){const r=el.getBoundingClientRect();[c0,c1].forEach(c=>{c.width=r.width*dpr;c.height=r.height*dpr;c.getContext('2d').setTransform(dpr,0,0,dpr,0,0)})}
  sz();
  const W=()=>c0.width/dpr,H=()=>c0.height/dpr;

  const blobs=pal.blobs.map(c=>({x:Math.random()*400,y:Math.random()*600,r:80+Math.random()*100,c,a:pal.light?.03:.08+Math.random()*.04,ph:Math.random()*6.28}));

  let particles=[];
  const w0=400,h0=600;

  if(eng==='photo'&&photoConfig){
    const pc=photoConfig.particleCount||25;
    const colors=photoConfig.particleColors||['200,200,220'];
    const pt=photoConfig.particleType||'fall';
    for(let i=0;i<pc;i++){
      const color=colors[i%colors.length];
      if(pt==='rise'){
        particles.push({type:'ember',x:Math.random()*w0,y:Math.random()*h0,size:1+Math.random()*3,vy:-(0.05+Math.random()*.15),vx:(Math.random()-.5)*.06,ph:Math.random()*6.28,drift:.0004+Math.random()*.001,op:.08+Math.random()*.2,warm:Math.random(),color});
      }else if(pt==='float'){
        particles.push({type:'crystal',x:Math.random()*w0,y:Math.random()*h0,size:1.2+Math.random()*2.5,vy:.02+Math.random()*.06,vx:(Math.random()-.5)*.12,ph:Math.random()*6.28,drift:.0003+Math.random()*.0006,op:.06+Math.random()*.18,rot:Math.random()*6.28,rotS:(Math.random()-.5)*.004,color});
      }else{
        particles.push({type:'petal',x:Math.random()*w0,y:-10-Math.random()*200,size:2.5+Math.random()*5,vy:.08+Math.random()*.2,vx:(Math.random()-.5)*.12,rot:Math.random()*6.28,rotS:(Math.random()-.5)*.005,ph:Math.random()*6.28,drift:.0005+Math.random()*.001,op:.04+Math.random()*.1,shape:Math.random(),color});
      }
    }
  }
  else if(eng==='starfield'){
    for(let i=0;i<30;i++)particles.push({type:'star',x:Math.random()*w0,y:Math.random()*h0,sz:.4+Math.random()*1.2,ph:Math.random()*6.28,sp:.002+Math.random()*.003,gold:Math.random()<(pal.goldRate||.5),vx:(Math.random()-.5)*.03,vy:(Math.random()-.5)*.02});
  }
  else if(eng==='petals'){
    for(let i=0;i<20;i++){
      const isPollen=Math.random()>.72;
      particles.push({type:isPollen?'pollen':'petal',x:Math.random()*w0,y:isPollen?Math.random()*h0:-10-Math.random()*200,size:isPollen?1+Math.random()*1.3:2.5+Math.random()*5,vy:isPollen?-(0.02+Math.random()*.05):.08+Math.random()*.2,vx:(Math.random()-.5)*.12,rot:Math.random()*6.28,rotS:(Math.random()-.5)*.005,ph:Math.random()*6.28,drift:.0005+Math.random()*.001,op:.04+Math.random()*.1,shape:Math.random()});
    }
  }
  else if(eng==='dust'){
    for(let i=0;i<14;i++)particles.push({type:'mote',x:Math.random()*w0,y:Math.random()*h0,sz:.6+Math.random()*1.6,vx:(Math.random()-.5)*.025,vy:-(0.01+Math.random()*.04),ph:Math.random()*6.28,drift:.0003+Math.random()*.0006,op:.025+Math.random()*.06,shape:Math.random()>.5?'c':'l',rot:Math.random()*Math.PI});
  }
  else if(eng==='confetti'){
    for(let i=0;i<35;i++)particles.push({type:'confetti',x:Math.random()*w0,y:-10-Math.random()*h0,size:2+Math.random()*4,vy:.15+Math.random()*.4,vx:(Math.random()-.5)*.3,rot:Math.random()*6.28,rotS:(Math.random()-.5)*.02,ph:Math.random()*6.28,op:.15+Math.random()*.3,hue:Math.random()*360});
  }
  else if(eng==='candles'){
    for(let i=0;i<25;i++)particles.push({type:'ember',x:Math.random()*w0,y:Math.random()*h0,size:1+Math.random()*3,vy:-(0.05+Math.random()*.15),vx:(Math.random()-.5)*.06,ph:Math.random()*6.28,drift:.0004+Math.random()*.001,op:.08+Math.random()*.2,warm:Math.random()});
  }
  else if(eng==='bubbles'){
    for(let i=0;i<22;i++)particles.push({type:'bubble',x:Math.random()*w0,y:h0+10+Math.random()*200,size:2+Math.random()*6,vy:-(0.06+Math.random()*.15),vx:(Math.random()-.5)*.08,ph:Math.random()*6.28,drift:.0003+Math.random()*.0008,op:.05+Math.random()*.12});
  }
  else if(eng==='snow'){
    for(let i=0;i<30;i++)particles.push({type:'snow',x:Math.random()*w0,y:-10-Math.random()*300,size:1+Math.random()*3,vy:.05+Math.random()*.15,vx:(Math.random()-.5)*.08,ph:Math.random()*6.28,drift:.0004+Math.random()*.001,op:.06+Math.random()*.15});
  }
  else if(eng==='rise'){
    for(let i=0;i<30;i++){
      const isGold=Math.random()>.5;
      particles.push({type:'riser',x:Math.random()*w0,y:Math.random()*h0,size:1+Math.random()*2.5,vy:-(0.08+Math.random()*.2),vx:(Math.random()-.5)*.06,ph:Math.random()*6.28,drift:.0005+Math.random()*.001,op:.08+Math.random()*.2,gold:isGold});
    }
  }

  let running=false,rafId;
  function render(t){
    const w=W(),h=H();
    x0.fillStyle=pal.bg;x0.fillRect(0,0,w,h);
    for(const b of blobs){
      const bx=b.x+Math.sin(t*.0004+b.ph)*30;
      const by=b.y+Math.cos(t*.0003+b.ph)*20;
      const a=b.a*(.5+.5*Math.sin(t*.001+b.ph));
      const g=x0.createRadialGradient(bx,by,0,bx,by,b.r);
      g.addColorStop(0,`rgba(${b.c},${a})`);g.addColorStop(1,`rgba(${b.c},0)`);
      x0.fillStyle=g;x0.fillRect(0,0,w,h);
    }
    x1.clearRect(0,0,w,h);
    const sx=w/w0,sy=h/h0;
    for(const p of particles){
      const px=p.x*sx,py=p.y*sy;
      if(p.type==='star'){
        const gl=Math.pow(Math.max(0,Math.sin(t*p.sp+p.ph)),3);
        p.x+=p.vx+Math.sin(t*.0004+p.ph)*.06;p.y+=p.vy;
        if(p.x<-3)p.x=w0+3;if(p.x>w0+3)p.x=-3;if(p.y<-3)p.y=h0+3;if(p.y>h0+3)p.y=-3;
        const col=p.gold?`rgba(201,169,110,${.1+gl*.6})`:`rgba(200,195,220,${.08+gl*.4})`;
        x1.globalAlpha=.1+gl*.55;x1.beginPath();x1.arc(px,py,p.sz*(.3+gl*.7)*sx,0,Math.PI*2);x1.fillStyle=col;x1.fill();
        if(gl>.4){const sg=x1.createRadialGradient(px,py,0,px,py,p.sz*5*sx);sg.addColorStop(0,`rgba(${p.gold?'201,169,110':'200,195,220'},${gl*.08})`);sg.addColorStop(1,'rgba(0,0,0,0)');x1.fillStyle=sg;x1.fillRect(px-p.sz*5*sx,py-p.sz*5*sy,p.sz*10*sx,p.sz*10*sy)}
      }
      else if(p.type==='petal'||p.type==='pollen'){
        p.x+=p.vx+Math.sin(t*(p.drift||.001)+p.ph)*.2;p.y+=p.vy;p.rot=(p.rot||0)+(p.rotS||0);
        if(p.type==='petal'&&p.y>h0+8){p.y=-8;p.x=Math.random()*w0}
        if(p.type==='pollen'&&p.y<-4){p.y=h0+4;p.x=Math.random()*w0}
        x1.save();x1.translate(px,py);x1.rotate(p.rot);
        x1.globalAlpha=(p.op||.1)*(.4+.6*Math.sin(t*.001+p.ph));
        if(p.type==='petal'){const s=p.size*sx,pw=s*(.3+(p.shape||0)*.18);x1.beginPath();x1.moveTo(0,-s);x1.bezierCurveTo(pw,-s*.5,pw*.8,s*.3,0,s);x1.bezierCurveTo(-pw*.6,s*.4,-pw*.9,-s*.3,0,-s);const pc=p.color;x1.fillStyle=pc?`rgba(${pc},.4)`:(pal.light?`rgba(180,150,155,.35)`:`rgba(220,180,185,.4)`);x1.fill()}
        else{const r=p.size*2.5*sx;const gr=x1.createRadialGradient(0,0,0,0,0,r);gr.addColorStop(0,`rgba(200,185,140,${(p.op||.1)*.4})`);gr.addColorStop(1,'rgba(200,185,140,0)');x1.fillStyle=gr;x1.fillRect(-r,-r,r*2,r*2)}
        x1.restore();
      }
      else if(p.type==='mote'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0005)+p.ph)*.08;p.y+=p.vy;
        if(p.y<-3){p.y=h0+3;p.x=Math.random()*w0}
        x1.save();x1.translate(px,py);x1.globalAlpha=(p.op||.05)*(.4+.6*Math.sin(t*.0007+p.ph));
        if(p.shape==='c'){x1.beginPath();x1.arc(0,0,p.sz*sx,0,Math.PI*2);x1.fillStyle='rgba(180,174,160,.5)';x1.fill()}
        else{x1.rotate((p.rot||0)+t*.00006);x1.strokeStyle='rgba(180,174,160,.3)';x1.lineWidth=.25;x1.beginPath();x1.moveTo(-p.sz*1.8*sx,0);x1.lineTo(p.sz*1.8*sx,0);x1.stroke()}
        x1.restore();
      }
      else if(p.type==='confetti'){
        p.x+=p.vx+Math.sin(t*.001+p.ph)*.4;p.y+=p.vy;p.rot+=p.rotS;
        if(p.y>h0+10){p.y=-10;p.x=Math.random()*w0;p.vx=(Math.random()-.5)*.3}
        x1.save();x1.translate(px,py);x1.rotate(p.rot);
        x1.globalAlpha=p.op*(.5+.5*Math.sin(t*.002+p.ph));
        x1.fillStyle=`hsla(${p.hue},70%,65%,${p.op})`;
        const s=p.size*sx;
        if(Math.random()>.5){x1.fillRect(-s,-s*.3,s*2,s*.6)}
        else{x1.beginPath();x1.arc(0,0,s*.5,0,Math.PI*2);x1.fill()}
        x1.restore();
      }
      else if(p.type==='ember'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0006)+p.ph)*.15;p.y+=p.vy;
        if(p.y<-5){p.y=h0+5;p.x=Math.random()*w0}
        const ep=.5+.5*Math.sin(t*.003+p.ph);
        x1.globalAlpha=p.op*ep;
        const r=p.size*sx;const c=p.color||(p.warm>.5?'255,180,60':'255,140,40');
        const gr=x1.createRadialGradient(px,py,0,px,py,r*3);
        gr.addColorStop(0,`rgba(${c},${p.op*ep*.5})`);gr.addColorStop(1,`rgba(${c},0)`);
        x1.fillStyle=gr;x1.fillRect(px-r*3,py-r*3,r*6,r*6);
        x1.beginPath();x1.arc(px,py,r*.4,0,Math.PI*2);
        x1.fillStyle=`rgba(255,255,200,${ep*.6})`;x1.fill();
      }
      else if(p.type==='crystal'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0005)+p.ph)*.2;p.y+=p.vy;
        if(p.y>h0+8){p.y=-8;p.x=Math.random()*w0}
        if(p.x<-5)p.x=w0+5;if(p.x>w0+5)p.x=-5;
        const s=p.size*sx;const col=p.color||'180,200,220';
        x1.save();x1.translate(px,py);x1.rotate((p.rot||0)+(t*(p.rotS||.004)));
        x1.globalAlpha=(p.op||.1)*(.5+.5*Math.sin(t*.001+p.ph));
        x1.strokeStyle=`rgba(${col},${(p.op||.1)*.8})`;
        x1.lineWidth=.4;
        x1.beginPath();
        for(let i=0;i<6;i++){const a=(i/6)*Math.PI*2;const x=Math.cos(a)*s,y=Math.sin(a)*s;if(i===0)x1.moveTo(x,y);else x1.lineTo(x,y);}
        x1.closePath();x1.stroke();
        x1.restore();
      }
      else if(p.type==='bubble'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0005)+p.ph)*.15;p.y+=p.vy;
        if(p.y<-10){p.y=h0+10;p.x=Math.random()*w0}
        const s=p.size*sx;const bob=Math.sin(t*.002+p.ph)*.5;
        x1.globalAlpha=p.op*(.5+.5*Math.sin(t*.001+p.ph));
        x1.beginPath();x1.arc(px,py+bob,s,0,Math.PI*2);
        x1.strokeStyle=pal.light?`rgba(150,170,190,${p.op*.5})`:`rgba(180,200,220,${p.op*.4})`;
        x1.lineWidth=.4;x1.stroke();
        const bg=x1.createRadialGradient(px-s*.2,py-s*.2+bob,0,px,py+bob,s);
        bg.addColorStop(0,'rgba(255,255,255,.03)');bg.addColorStop(1,'rgba(255,255,255,0)');
        x1.fillStyle=bg;x1.fill();
      }
      else if(p.type==='snow'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0005)+p.ph)*.2;p.y+=p.vy;
        if(p.y>h0+8){p.y=-8;p.x=Math.random()*w0}
        x1.globalAlpha=p.op*(.4+.6*Math.sin(t*.001+p.ph));
        x1.beginPath();x1.arc(px,py,p.size*.5*sx,0,Math.PI*2);
        x1.fillStyle=`rgba(220,230,245,${p.op})`;x1.fill();
        if(p.size>2){const gl=x1.createRadialGradient(px,py,0,px,py,p.size*2*sx);gl.addColorStop(0,`rgba(220,230,245,${p.op*.15})`);gl.addColorStop(1,'rgba(220,230,245,0)');x1.fillStyle=gl;x1.fillRect(px-p.size*2*sx,py-p.size*2*sy,p.size*4*sx,p.size*4*sy)}
      }
      else if(p.type==='riser'){
        p.x+=p.vx+Math.sin(t*(p.drift||.0006)+p.ph)*.12;p.y+=p.vy;
        if(p.y<-5){p.y=h0+5;p.x=Math.random()*w0}
        const c=p.gold?'201,169,110':'180,190,210';
        x1.globalAlpha=p.op*(.5+.5*Math.sin(t*.002+p.ph));
        const r=p.size*sx;const gr=x1.createRadialGradient(px,py,0,px,py,r*3);
        gr.addColorStop(0,`rgba(${c},${p.op*.5})`);gr.addColorStop(1,`rgba(${c},0)`);
        x1.fillStyle=gr;x1.fillRect(px-r*3,py-r*3,r*6,r*6);
        x1.beginPath();x1.arc(px,py,r*.4,0,Math.PI*2);
        x1.fillStyle=`rgba(${c},${p.op})`;x1.fill();
      }
      else if(p.type==='universe'){
        const m=p.motion||'float';
        if(m==='wave'){ p.x+=p.vx+Math.sin(t*.0008+p.ph)*1.2; p.y+=p.vy+Math.cos(t*.0006+p.ph)*.8; }
        else if(m==='swing'){ p.x+=p.vx+Math.sin(t*.001+p.ph)*1.5; p.y+=p.vy; p.rot=(p.rot||0)+(p.rotS||0); }
        else if(m==='spiral'){ p.x+=p.vx+Math.cos(t*.0005+p.ph)*.6; p.y+=p.vy+Math.sin(t*.0005+p.ph)*.6; p.rot=(p.rot||0)+.012; }
        else { p.x+=p.vx+Math.sin(t*(p.drift||.0005)+p.ph)*.15; p.y+=p.vy; p.rot=(p.rot||0)+(p.rotS||0); }
        if(p.x<-5)p.x=w0+5;if(p.x>w0+5)p.x=-5;if(p.y<-5)p.y=h0+5;if(p.y>h0+5)p.y=-5;
        const palHex=pal.palette||['#A0A0E0'];
        const hex=palHex[p.colorIndex%palHex.length];
        x1.save();x1.translate(px,py);x1.rotate(p.rot);
        x1.globalAlpha=p.op*(.5+.5*Math.sin(t*.001+p.ph));
        drawUniverseShape(x1,p.shape,p.size,p.op,sx,sy,t,p.ph,hex);
        x1.restore();
      }
    }
    x1.globalAlpha=1;
    if(running)rafId=requestAnimationFrame(render);
  }

  return{
    start(){if(!running){running=true;sz();rafId=requestAnimationFrame(render)}},
    stop(){running=false;cancelAnimationFrame(rafId)},
    resize:sz
  };
}

const tabBtns=document.querySelectorAll('.tab-btn');
const tabPanels=document.querySelectorAll('.tab-panel');

function switchTab(tabName){
  tabBtns.forEach(b=>b.classList.toggle('active',b.dataset.tab===tabName));
  tabPanels.forEach(p=>{
    const isActive=p.id==='tab-'+tabName;
    p.classList.toggle('active',isActive);
  });
  bootVisibleCards();
}

tabBtns.forEach(b=>b.addEventListener('click',()=>switchTab(b.dataset.tab)));

function bootVisibleCards(){
  activeCards.forEach(c=>c.stop());
  activeCards.clear();
  const activePanel=document.querySelector('.tab-panel.active');
  if(!activePanel)return;
  activePanel.querySelectorAll('.live-card').forEach(el=>{
    if(!el.dataset.engine)return;
    const card=bootCard(el);
    activeCards.set(el.id,card);
    card.start();
  });
}

addEventListener('resize',()=>{activeCards.forEach(c=>c.resize())});
bootVisibleCards();

// ‚ïê‚ïê‚ïê AMBIENT GARDEN ‚ïê‚ïê‚ïê
;(function(){
  const C=document.getElementById('gardenC'),X=C.getContext('2d');
  function sz(){C.width=innerWidth*dpr;C.height=innerHeight*dpr;X.setTransform(dpr,0,0,dpr,0,0)}
  sz();addEventListener('resize',sz);
  const blobs=[{x:200,y:300,r:340,vx:.08,vy:.05,c:'212,190,170',a:.016,ph:0},{x:800,y:200,r:290,vx:-.06,vy:.06,c:'190,205,180',a:.012,ph:2},{x:400,y:600,r:260,vx:.05,vy:-.04,c:'210,185,202',a:.01,ph:4},{x:1e3,y:500,r:300,vx:-.06,vy:.05,c:'220,205,170',a:.014,ph:1}];
  const FC=[[218,180,180],[240,210,210],[190,175,155],[220,205,185],[185,205,178],[210,222,200],[210,190,210],[232,220,232]];
  const flowers=[];for(let i=0;i<14;i++){const c1=FC[~~(Math.random()*FC.length)],c2=FC[~~(Math.random()*FC.length)],l=Math.random();flowers.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight*3,size:10+Math.random()*(l>.6?22:38),petals:5+~~(Math.random()*3),bloom:.3+Math.random()*.7,rot:Math.random()*Math.PI*2,rotS:(Math.random()-.5)*.0001,swPh:Math.random()*6.28,swAmp:2+Math.random()*4,swSpd:.0003+Math.random()*.0005,layer:l,op:l>.6?.04+Math.random()*.08:.015+Math.random()*.035,c1,c2,pw:.25+Math.random()*.12,cv:.3+Math.random()*.25})}
  const petals=[];for(let i=0;i<22;i++){const c=FC[~~(Math.random()*FC.length)];petals.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight-innerHeight*.3,size:3+Math.random()*5,vy:.08+Math.random()*.22,vx:(Math.random()-.5)*.14,rot:Math.random()*Math.PI*2,rotS:(Math.random()-.5)*.004,ph:Math.random()*6.28,drift:.0006+Math.random()*.0013,op:.02+Math.random()*.07,color:c,shape:Math.random()})}
  (function loop(t){
    const w=innerWidth,h=innerHeight;X.fillStyle='#FDFBF7';X.fillRect(0,0,w,h);
    for(const b of blobs){b.x+=b.vx;b.y+=b.vy;if(b.x<-b.r)b.x=w+b.r;if(b.x>w+b.r)b.x=-b.r;if(b.y<-b.r)b.y=h+b.r;if(b.y>h+b.r)b.y=-b.r;const a=b.a*(.5+.5*Math.sin(t*.0008+b.ph));const g=X.createRadialGradient(b.x,b.y,0,b.x,b.y,b.r*(1+Math.sin(t*.0006+b.ph)*.08));g.addColorStop(0,`rgba(${b.c},${a})`);g.addColorStop(1,`rgba(${b.c},0)`);X.fillStyle=g;X.fillRect(0,0,w,h)}
    for(const f of flowers){const vy=f.y-sY*(.08+f.layer*.35);if(vy<-f.size*2||vy>h+f.size*2)continue;const sway=Math.sin(t*f.swSpd+f.swPh)*f.swAmp;const bl=f.bloom+Math.sin(t*.0003)*.03;const pl=f.size*bl,pw=f.size*f.pw;X.save();X.translate(f.x+sway,vy);X.rotate(f.rot+t*f.rotS);X.globalAlpha=f.op;for(let i=0;i<f.petals;i++){X.save();X.rotate((i/f.petals)*Math.PI*2);X.beginPath();X.moveTo(0,0);X.bezierCurveTo(pw,-pl*f.cv,pw*.7,-pl*.85,0,-pl);X.bezierCurveTo(-pw*.7,-pl*.85,-pw,-pl*f.cv,0,0);const gr=X.createLinearGradient(0,0,0,-pl);gr.addColorStop(0,`rgba(${f.c1},.7)`);gr.addColorStop(1,`rgba(${f.c2},.18)`);X.fillStyle=gr;X.fill();X.restore()}X.restore()}
    for(const p of petals){p.x+=p.vx+Math.sin(t*p.drift+p.ph)*.2;p.y+=p.vy;p.rot+=p.rotS;if(p.y>h+10){p.y=-10;p.x=Math.random()*w}X.save();X.translate(p.x,p.y);X.rotate(p.rot);X.globalAlpha=p.op*(.35+.65*Math.sin(t*.0008+p.ph));const s=p.size,pw=s*(.28+p.shape*.18);X.beginPath();X.moveTo(0,-s);X.bezierCurveTo(pw,-s*.5,pw*.8,s*.3,0,s);X.bezierCurveTo(-pw*.6,s*.4,-pw*.9,-s*.3,0,-s);X.fillStyle=`rgba(${p.color},.45)`;X.fill();X.restore()}
    requestAnimationFrame(loop)
  })(0)
})();

addEventListener('scroll',()=>{document.getElementById('nav').classList.toggle('scrolled',sY>50)});
document.querySelectorAll('.rv').forEach(el=>{new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('v')})},{threshold:.06,rootMargin:'0px 0px -20px 0px'}).observe(el)});

// ‚ïê‚ïê‚ïê AMBIENT SOUND (user gesture ‚Üí start, speaker toggle, volume, sessionStorage mute) ‚ïê‚ïê‚ïê
(function(){
  const STORAGE_MUTE='livecard_ambient_mute';
  const STORAGE_VOL='livecard_ambient_vol';
  let ambientEngine=null;
  let hasUserActivated=false;

  function getMuted(){ try{ return sessionStorage.getItem(STORAGE_MUTE)==='1'; }catch(e){ return false; } }
  function setMuted(v){ try{ sessionStorage.setItem(STORAGE_MUTE,v?'1':'0'); }catch(e){} }
  function getStoredVol(){ try{ const v=parseInt(sessionStorage.getItem(STORAGE_VOL),10); return isNaN(v)?80:Math.max(0,Math.min(100,v)); }catch(e){ return 80; } }
  function setStoredVol(v){ try{ sessionStorage.setItem(STORAGE_VOL,String(Math.round(v))); }catch(e){} }

  function themeForCard(card){
    if(!window.AmbientSoundEngine)return 'starfield';
    return AmbientSoundEngine.resolveThemeType(card.dataset.engine||'',card.dataset.palette||'');
  }

  function startEngineForCard(card){
    if(!window.AmbientSoundEngine)return;
    if(ambientEngine){ ambientEngine.stop(); ambientEngine=null; }
    const theme=themeForCard(card);
    ambientEngine=new AmbientSoundEngine(theme);
    ambientEngine.start();
    const vol=getMuted()?0:getStoredVol()/100;
    ambientEngine.setVolume(vol);
    updateAllSoundUI();
  }

  function updateAllSoundUI(){
    const muted=getMuted();
    const vol=getStoredVol();
    document.querySelectorAll('.card-sound-btn').forEach(btn=>{
      btn.classList.toggle('muted',muted);
      btn.textContent=muted?'\u{1F507}':'\u{1F50A}';
    });
    document.querySelectorAll('.card-sound-slider').forEach(sl=>{ sl.value=vol; });
  }

  function injectSoundUI(){
    document.querySelectorAll('.live-card[data-engine]').forEach(card=>{
      if(card.querySelector('.card-sound-wrap'))return;
      const wrap=document.createElement('div');
      wrap.className='card-sound-wrap';
      wrap.innerHTML='<button type="button" class="card-sound-btn" aria-label="Toggle ambient sound">'+ (getMuted()?'\u{1F507}':'\u{1F50A}') +'</button><div class="card-sound-slider-wrap"><input type="range" class="card-sound-slider" min="0" max="100" value="'+getStoredVol()+'" aria-label="Ambient volume"></div>';
      card.appendChild(wrap);

      const btn=wrap.querySelector('.card-sound-btn');
      const slider=wrap.querySelector('.card-sound-slider');

      card.addEventListener('click',function(ev){
        if(ev.target.closest('.card-sound-wrap'))return;
        hasUserActivated=true;
        startEngineForCard(card);
      },{passive:true});
      card.addEventListener('touchstart',function(ev){
        if(ev.target.closest('.card-sound-wrap'))return;
        hasUserActivated=true;
        startEngineForCard(card);
      },{passive:true});

      btn.addEventListener('click',function(ev){
        ev.preventDefault(); ev.stopPropagation();
        if(!ambientEngine)return;
        const next=!getMuted();
        setMuted(next);
        ambientEngine.setVolume(next?slider.value/100:0);
        updateAllSoundUI();
      });
      slider.addEventListener('input',function(){
        const v=parseInt(slider.value,10);
        setStoredVol(v);
        if(ambientEngine&&!getMuted())ambientEngine.setVolume(v/100);
      });

      let longPressTimer;
      wrap.addEventListener('touchstart',function(){
        longPressTimer=setTimeout(function(){ wrap.classList.add('reveal'); },400);
      });
      wrap.addEventListener('touchend',function(){ clearTimeout(longPressTimer); });
      wrap.addEventListener('touchcancel',function(){ clearTimeout(longPressTimer); });
    });
  }

  document.addEventListener('DOMContentLoaded',function(){
    injectSoundUI();
    updateAllSoundUI();
  });
  if(document.readyState!=='loading'){ injectSoundUI(); updateAllSoundUI(); }
})();
</script>
<script type="module" src="js/codex-demos.js"></script>
</body>
</html>
